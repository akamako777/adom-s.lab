<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#000000">
    <title>Five Islands Stargazer v25.5 (Final Polish)</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
    
    <!-- QR Code -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>

    <style>
        /* ğŸ›‘ Core Stability */
        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            overflow: hidden; background-color: #000;
            touch-action: none; font-family: 'Zen Maru Gothic', sans-serif;
            -webkit-user-select: none; user-select: none; color: white;
            overscroll-behavior: none;
        }

        /* ğŸŒŒ Layers */
        #layers-container { position: relative; width: 100%; height: 100%; overflow: hidden; }
        #camera-feed { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; z-index: 0; opacity: 0; transition: opacity 0.8s; }
        #sky-canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 5; }
        
        /* Overlay for Smart Bubble */
        #overlay-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 10; pointer-events: none; overflow: hidden; }

        #ui-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 20; pointer-events: none; display: flex; flex-direction: column; justify-content: space-between; }
        .interactive { pointer-events: auto; cursor: pointer; }
        
        .glass {
            background: rgba(15, 23, 42, 0.6); backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.1); box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        /* ğŸŒ“ Modes */
        body.mode-red #layers-container { filter: sepia(100%) hue-rotate(-50deg) saturate(300%) contrast(1.2) brightness(0.6); }
        body.mode-red #ui-layer { filter: sepia(100%) hue-rotate(-50deg) saturate(200%); }
        
        body.mode-solar { background-color: #87CEEB; color: #0f172a; }
        body.mode-solar .glass { background: rgba(255, 255, 255, 0.6); border: 1px solid rgba(0,0,0,0.1); color: #0f172a; }
        body.mode-solar h1, body.mode-solar h2, body.mode-solar h3, body.mode-solar span, body.mode-solar div { color: #0f172a; text-shadow: none !important; }
        body.mode-solar .text-cyan-400 { color: #0066cc !important; }
        body.mode-solar .text-white { color: #0f172a !important; }
        
        /* Smart Bubble (Compact) */
        .info-bubble {
            position: absolute;
            transition: opacity 0.3s, transform 0.1s linear;
            will-change: transform, left, top;
        }
        .bubble-tail {
            position: absolute; bottom: -8px; left: 50%; transform: translateX(-50%);
            width: 0; height: 0; 
            border-left: 8px solid transparent; border-right: 8px solid transparent;
            border-top: 8px solid rgba(15, 23, 42, 0.9);
        }
        body.mode-solar .bubble-tail { border-top-color: rgba(255, 255, 255, 0.95); }

        /* Time Slider */
        #time-slider-container {
            position: absolute; bottom: 85px; left: 50%; transform: translateX(-50%);
            width: 80%; max-width: 400px; z-index: 30;
            display: flex; flex-direction: column; items-center;
            opacity: 0; pointer-events: none; transition: opacity 0.3s;
        }
        #time-slider-container.active { opacity: 1; pointer-events: auto; }
        .time-label { font-size: 12px; color: #fbbf24; text-align: center; font-weight: bold; margin-bottom: 4px; text-shadow: 0 0 5px black; }

        /* Calibration Modal */
        #calib-modal {
            position: fixed; inset: 0; z-index: 60; background: rgba(0,0,0,0.95);
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            opacity: 0; pointer-events: none; transition: opacity 0.3s;
        }
        #calib-modal.active { opacity: 1; pointer-events: auto; }
        
        .level-bubble {
            width: 180px; height: 180px; border: 4px solid #475569; border-radius: 50%;
            position: relative; overflow: hidden; background: #0f172a; margin-bottom: 20px;
        }
        .level-target {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 20px; height: 20px; border: 2px solid #22d3ee; border-radius: 50%; z-index: 10;
        }
        .level-ball {
            position: absolute; top: 50%; left: 50%; width: 40px; height: 40px;
            background: #ef4444; border-radius: 50%; opacity: 0.8;
            transform: translate(-50%, -50%); transition: all 0.1s linear;
        }
        .level-ok .level-ball { background: #22c55e; }

        /* ğŸšª PC Gate */
        #star-gate {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 100;
            display: flex; flex-direction: column; 
            align-items: center; justify-content: flex-start;
            background: radial-gradient(circle at center, #1e293b 0%, #020617 100%);
            overflow-y: auto; padding-top: 10vh; padding-bottom: 40px;
        }

        @keyframes pulse-target { 0% { transform: scale(1); opacity: 0.8; } 50% { transform: scale(1.1); opacity: 1; } 100% { transform: scale(1); opacity: 0.8; } }
        .target-lock { animation: pulse-target 1s infinite; }
        .hidden-force { display: none !important; }
        .check-box { appearance: none; width: 24px; height: 24px; border: 2px solid rgba(255,255,255,0.5); border-radius: 6px; background: transparent; cursor: pointer; position: relative; transition: all 0.2s; }
        .check-box:checked { background: #22d3ee; border-color: #22d3ee; }
        .check-box:checked::after { content: 'âœ”'; position: absolute; top: 0px; left: 5px; color: #000; font-size: 16px; font-weight: bold; }
        
        input[type=range] { -webkit-appearance: none; width: 100%; background: transparent; }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none; height: 20px; width: 20px; border-radius: 50%;
            background: #22d3ee; border: 2px solid #ffffff; cursor: pointer; margin-top: -8px; box-shadow: 0 2px 5px rgba(0,0,0,0.5);
        }
        input[type=range]::-webkit-slider-runnable-track { width: 100%; height: 4px; background: rgba(255,255,255,0.3); border-radius: 2px; }
        
        #debug-hud { font-family: 'Share Tech Mono', monospace; font-size: 11px; text-shadow: 1px 1px 0 #000; }
        
        @keyframes swipe-anim { 0% { opacity: 0; transform: translateX(-10px); } 50% { opacity: 1; transform: translateX(10px); } 100% { opacity: 0; transform: translateX(-10px); } }
        .swipe-hint { animation: swipe-anim 2s infinite; }

        /* Guide Accordion Styles */
        details > summary { list-style: none; }
        details > summary::-webkit-details-marker { display: none; }
        details[open] summary ~ * { animation: sweep .3s ease-in-out; }
        @keyframes sweep { 0% {opacity: 0; transform: translateY(-10px)} 100% {opacity: 1; transform: translateY(0)} }
    </style>
</head>
<body>

    <!-- ğŸšª PC GATE -->
    <div id="star-gate" class="hidden-force">
        <div class="relative z-10 flex flex-col items-center max-w-md text-center p-4">
            <div class="text-8xl mb-4 drop-shadow-[0_0_20px_rgba(34,211,238,0.5)]">ğŸŒŒ</div>
            <h1 class="text-4xl font-black text-white mb-2 tracking-tight">Five Islands<br><span class="text-cyan-400">Stargazer v25.5</span></h1>
            <p class="text-slate-400 text-sm font-bold tracking-[0.2em] mb-8 uppercase">Final Polish</p>
            <div class="bg-white p-3 rounded-2xl shadow-2xl mb-6 transform transition hover:scale-105 duration-500">
                <canvas id="qr-canvas"></canvas>
            </div>
            <p class="text-slate-300 text-sm leading-relaxed font-medium mb-8">
                ãƒ¢ãƒã‚¤ãƒ«ãƒ‡ãƒã‚¤ã‚¹å°‚ç”¨ã§ã™ã€‚<br>QRã‚³ãƒ¼ãƒ‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã¦ãã ã•ã„ã€‚
            </p>
            <button onclick="Gate.startUnlock()" class="group flex items-center gap-2 px-6 py-3 rounded-full bg-slate-800/50 border border-slate-700 hover:bg-slate-700 hover:border-cyan-500 transition-all cursor-pointer">
                <span class="text-yellow-400 text-xl group-hover:animate-spin">â˜…</span>
                <span class="text-xs font-bold text-slate-300 group-hover:text-white">PC DEBUG MODE</span>
            </button>
        </div>
    </div>

    <!-- ğŸ“± APP CONTAINER -->
    <div id="app-container" class="hidden-force w-full h-full relative">
        <div id="layers-container">
            <video id="camera-feed" autoplay playsinline muted></video>
            <canvas id="sky-canvas"></canvas>
            
            <!-- NEW: HTML Overlay for Rich Bubbles -->
            <div id="overlay-layer">
                <div id="smart-bubble" class="info-bubble opacity-0 w-64 p-4 rounded-xl bg-slate-900/90 border border-cyan-500/30 backdrop-blur-md shadow-2xl flex flex-col items-center text-center">
                    <h3 id="bubble-title" class="text-base font-bold text-cyan-400 mb-1 leading-tight">Title</h3>
                    <div id="bubble-tag" class="text-[9px] bg-white/10 px-2 py-0.5 rounded text-slate-300 mb-2">Constellation</div>
                    <!-- Updated font size to 11px for longer descriptions -->
                    <p id="bubble-desc" class="text-[11px] text-white font-medium leading-relaxed text-left w-full">Description here...</p>
                    <div class="bubble-tail"></div>
                </div>
            </div>
        </div>

        <!-- NAV UI -->
        <div id="nav-ui" class="absolute inset-0 pointer-events-none hidden-force z-30">
            <div id="nav-msg" class="absolute top-24 w-full text-center">
                <div class="inline-block bg-black/60 backdrop-blur px-4 py-2 rounded-lg border border-cyan-500/50">
                    <div class="text-[10px] text-cyan-300 uppercase tracking-widest mb-1 font-mono">NAVIGATING TO</div>
                    <div id="nav-target-name" class="text-xl font-bold text-white drop-shadow-[0_0_5px_rgba(34,211,238,0.8)]">Target</div>
                </div>
            </div>
            <div id="lock-on" class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 opacity-0 transition-opacity duration-300">
                <div class="w-24 h-24 border-2 border-green-400 rounded-full target-lock flex items-center justify-center">
                    <div class="w-1 h-1 bg-green-400 rounded-full"></div>
                </div>
                <div class="absolute top-28 w-full text-center text-green-400 font-bold text-sm tracking-widest bg-black/50 px-2 rounded font-mono">TARGET LOCKED</div>
            </div>
        </div>

        <!-- UI LAYER -->
        <div id="ui-layer" class="safe-area-inset p-4">
            <!-- Top -->
            <div class="flex justify-between items-start interactive pt-2">
                <button onclick="App.toggleLocation()" class="glass px-3 py-2 rounded-full flex items-center gap-2 active:scale-95 transition">
                    <span id="gps-icon" class="text-sm">ğŸ“</span>
                    <div class="flex flex-col items-start">
                        <span class="text-[8px] font-bold text-cyan-400 tracking-widest uppercase">LOCATION</span>
                        <span id="loc-name" class="text-[10px] font-bold text-white leading-none">äº”å³¶åˆ—å³¶ (Fixed)</span>
                    </div>
                </button>
                <div class="flex gap-3">
                    <!-- Calibration Button -->
                    <button onclick="App.startCalibration()" class="glass w-10 h-10 rounded-full flex items-center justify-center text-lg active:scale-95 transition bg-cyan-900/50 border border-cyan-500/50 text-cyan-300">ğŸ¯</button>
                    
                    <button onclick="Guide.toggle()" class="glass w-10 h-10 rounded-full flex items-center justify-center text-lg active:scale-95 transition border border-white/20 bg-cyan-900/30">ğŸ“–</button>
                    <button onclick="App.toggleSettings()" class="glass w-10 h-10 rounded-full flex items-center justify-center text-lg active:scale-95 transition">âš™ï¸</button>
                    <button onclick="App.toggleViewMode()" id="btn-mode" class="glass w-10 h-10 rounded-full flex items-center justify-center text-lg active:scale-95 transition bg-indigo-900/50 border-indigo-500/30">ğŸŒ™</button>
                </div>
            </div>

            <!-- Swipe Hint (Center) -->
            <div id="swipe-hint" class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 pointer-events-none transition-opacity duration-1000 opacity-0">
                <div class="flex flex-col items-center">
                    <div class="text-4xl mb-2 swipe-hint">â†”ï¸</div>
                    <div class="bg-black/60 px-3 py-1 rounded-full text-xs text-white backdrop-blur border border-white/20">Swipe to Adjust</div>
                </div>
            </div>

            <!-- Time Slider -->
            <div id="time-slider-container">
                <div id="time-display" class="time-label">TIME TRAVEL: +0h</div>
                <input type="range" id="time-range" min="-12" max="12" step="0.5" value="0" oninput="App.setTimeOffset(this.value)" onchange="App.resetTime(this.value)">
            </div>

            <!-- Debug Info (Lower Left) -->
            <div class="absolute bottom-24 left-4 pointer-events-none opacity-80">
                <div id="debug-hud" class="text-cyan-300 leading-tight bg-black/40 p-1 rounded">
                    <div>AZ: <span id="debug-az" class="text-yellow-400 font-bold text-sm">0</span>Â°</div>
                    <div>ALT: <span id="debug-alt">0</span>Â°</div>
                    <div class="text-[8px] text-slate-400 mt-1">v25.5 Polish</div>
                </div>
            </div>

            <!-- Bottom -->
            <div class="flex justify-center items-end pb-8 interactive gap-6">
                <button onclick="App.toggleTimeSlider()" class="glass w-14 h-14 rounded-full flex items-center justify-center border-2 border-white/20 active:scale-90 transition hover:border-yellow-400 text-yellow-300 shadow-lg bg-yellow-900/30">
                    <span class="text-xl">â³</span>
                </button>
                
                <button onclick="App.takeScreenshot()" class="glass w-14 h-14 rounded-full flex items-center justify-center border-2 border-white/20 active:scale-90 transition hover:border-cyan-400 shadow-lg">
                    <span class="text-xl">ğŸ“¸</span>
                </button>
                
                <button id="btn-cancel-nav" onclick="Guide.stopNav()" class="hidden-force glass w-14 h-14 rounded-full flex items-center justify-center border-2 border-red-500/50 bg-red-900/20 active:scale-90 transition text-red-300 font-bold text-xs">
                    STOP
                </button>
            </div>
        </div>
    </div>

    <!-- ğŸ¯ CALIBRATION MODAL -->
    <div id="calib-modal" class="interactive">
        <div class="w-full max-w-md px-6 flex flex-col items-center">
            <h2 class="text-xl font-bold text-white mb-2">æ–¹ä½åˆã‚ã› (Calibration)</h2>
            
            <div class="bg-slate-800/80 p-4 rounded-xl border border-white/10 mb-4 w-full">
                <ol class="text-xs text-slate-300 space-y-2 list-decimal list-inside text-left">
                    <li><b class="text-white">ã‚¹ãƒãƒ›ã‚’æ°´å¹³</b>ã«æŒã£ã¦ãã ã•ã„ã€‚</li>
                    <li><b class="text-cyan-400">ä¸Šç«¯ã‚’åŒ—(N)</b>ã«å‘ã‘ã¦ãã ã•ã„ã€‚</li>
                    <li>èµ¤ç‰ã‚’ä¸­å¿ƒã«å…¥ã‚Œã€<b class="text-white">æ±ºå®š</b>ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚</li>
                </ol>
            </div>
            
            <div class="level-bubble">
                <div class="level-target"></div>
                <div id="level-ball" class="level-ball"></div>
            </div>
            <div id="calib-val" class="font-mono text-cyan-400 mb-4 text-2xl font-bold">0Â°</div>
            
            <!-- Emergency Rotation Controls -->
            <div class="flex gap-2 mb-2 w-full justify-center">
                <button onclick="App.rotateOffset(90)" class="px-3 py-2 rounded-lg bg-slate-700 hover:bg-slate-600 text-[10px] text-white font-bold border border-white/10">
                    â†» +90Â°
                </button>
                <button onclick="App.rotateOffset(-90)" class="px-3 py-2 rounded-lg bg-slate-700 hover:bg-slate-600 text-[10px] text-white font-bold border border-white/10">
                    â†º -90Â°
                </button>
            </div>
            <!-- Reset Button -->
            <button onclick="App.resetOffset()" class="mb-4 px-3 py-2 rounded-lg bg-red-900/50 hover:bg-red-800 text-[10px] text-red-200 font-bold border border-red-500/30">
                âš¡ RESET (0Â°)
            </button>
            
            <p class="text-[10px] text-slate-500 mb-4 text-center max-w-xs">
                â€»å¤ã„æ©Ÿç¨®ã‚„ä»–ç¤¾ç«¯æœ«ã§ã¯ã‚»ãƒ³ã‚µãƒ¼ä»•æ§˜ãŒç•°ãªã‚Šã€90Â°ã‚ºãƒ¬ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ãã®å ´åˆã¯ä¸Šã®ãƒœã‚¿ãƒ³ã§èª¿æ•´ã—ã¦ãã ã•ã„ã€‚
            </p>
            
            <div class="flex gap-4 w-full justify-center">
                <button onclick="App.cancelCalibration()" class="px-6 py-3 rounded-full bg-slate-700 text-white font-bold w-1/3">æˆ»ã‚‹</button>
                <button onclick="App.confirmCalibration()" class="px-6 py-3 rounded-full bg-cyan-600 text-white font-bold shadow-lg hover:bg-cyan-500 w-1/2">æ±ºå®š (LOCK)</button>
            </div>
        </div>
    </div>

    <!-- ğŸ“– GUIDE MODAL (ACCORDION) -->
    <div id="guide-modal" class="fixed inset-0 z-50 bg-slate-900/95 backdrop-blur-xl hidden-force interactive flex flex-col">
        <div class="p-4 border-b border-white/10 flex justify-between items-center bg-black/20">
            <h2 class="font-bold text-white text-lg flex items-center gap-2">
                <span class="text-2xl">ğŸ“–</span> <span data-i18n="guide_title">æ˜Ÿåº§è©³ç´°è§£èª¬</span>
            </h2>
            <button onclick="Guide.toggle()" class="w-12 h-12 rounded-full bg-white/10 flex items-center justify-center text-white hover:bg-white/20 transition text-xl">âœ•</button>
        </div>
        <div id="guide-list" class="flex-1 overflow-y-auto p-4 space-y-4 pb-20"></div>
    </div>

    <!-- ğŸš€ START MODAL -->
    <div id="start-modal" class="fixed inset-0 z-50 flex items-center justify-center bg-[#020617] interactive">
        <div class="relative z-10 w-full max-w-sm px-6 text-center">
            <div class="text-6xl mb-4 animate-bounce">âœ¨</div>
            <h1 class="text-3xl font-black text-white mb-2">Five Islands<br><span class="text-cyan-400 font-light">Stargazer</span></h1>
            <p class="text-slate-400 text-xs font-bold tracking-widest mb-8">COSMIC LIBRARY v25.5</p>
            <button onclick="App.init()" class="w-full py-4 bg-gradient-to-r from-cyan-600 to-blue-600 rounded-xl font-bold text-white shadow-lg active:scale-95 transition hover:shadow-cyan-500/30">
                START / å‡ºç™º
            </button>
            <p class="text-[10px] text-slate-500 mt-4">Manual Compass Calibration Mode</p>
        </div>
    </div>

    <!-- âš™ï¸ SETTINGS MODAL -->
    <div id="settings-modal" onclick="if(event.target === this) App.toggleSettings()" class="fixed inset-0 z-40 bg-black/80 backdrop-blur hidden-force flex items-center justify-center interactive transition-opacity duration-300 cursor-pointer">
        <div onclick="event.stopPropagation()" class="glass bg-[#0f172a]/95 w-11/12 max-w-sm rounded-2xl border border-white/10 p-6 space-y-6 shadow-2xl overflow-y-auto max-h-[85vh] cursor-default">
            <div class="flex justify-between items-center border-b border-white/10 pb-4">
                <h2 class="font-bold text-white text-lg" data-i18n="settings_title">è¨­å®š (Settings)</h2>
                <button onclick="App.toggleSettings()" class="w-10 h-10 flex items-center justify-center rounded-full bg-white/5 hover:bg-white/20 text-slate-300 hover:text-white transition text-xl">âœ•</button>
            </div>
            
            <!-- Category Boxes -->
            <div class="space-y-3">
                <p class="text-xs text-cyan-400 font-bold uppercase tracking-wider" data-i18n="cat_title">è¡¨ç¤ºã‚«ãƒ†ã‚´ãƒª</p>
                <label class="flex items-center justify-between p-3 rounded-lg bg-white/5 hover:bg-white/10 transition cursor-pointer">
                    <span class="text-sm font-bold" data-i18n="cat_famous">ğŸ¦ æœ‰åãªæ˜Ÿåº§ (Famous)</span>
                    <input type="checkbox" checked onchange="App.setRank(1, this.checked)" class="check-box">
                </label>
                <label class="flex items-center justify-between p-3 rounded-lg bg-white/5 hover:bg-white/10 transition cursor-pointer border-l-4 border-yellow-400">
                    <span class="text-sm font-bold" data-i18n="cat_star_gal">âœ¨ æœ‰åãªæ˜Ÿãƒ»éŠ€æ²³ (Stars & Gal)</span>
                    <input type="checkbox" checked onchange="App.setRank(4, this.checked)" class="check-box">
                </label>
                <label class="flex items-center justify-between p-3 rounded-lg bg-white/5 hover:bg-white/10 transition cursor-pointer">
                    <span class="text-sm font-bold" data-i18n="cat_medium">ğŸ» æ™®é€šã®æ˜Ÿåº§ (Medium)</span>
                    <input type="checkbox" checked onchange="App.setRank(2, this.checked)" class="check-box">
                </label>
                <label class="flex items-center justify-between p-3 rounded-lg bg-white/5 hover:bg-white/10 transition cursor-pointer">
                    <span class="text-sm font-bold" data-i18n="cat_minor">ğŸ¦ ãƒã‚¤ãƒŠãƒ¼æ˜Ÿåº§ (Minor)</span>
                    <input type="checkbox" checked onchange="App.setRank(3, this.checked)" class="check-box">
                </label>
            </div>

            <!-- Visibility -->
            <div class="space-y-4 pt-4 border-t border-white/10">
                <p class="text-xs text-cyan-400 font-bold uppercase tracking-wider" data-i18n="opt_title">è¡¨ç¤ºã‚ªãƒ—ã‚·ãƒ§ãƒ³</p>
                
                <div class="flex items-center justify-between bg-cyan-900/30 p-2 rounded-lg border border-cyan-500/20">
                    <div>
                        <span class="text-sm font-bold text-cyan-300" data-i18n="opt_info">ğŸŒŸ æ˜Ÿåº§ã®è§£èª¬ã‚’è¡¨ç¤º</span>
                        <div class="text-[10px] text-slate-400" data-i18n="opt_info_desc">å¹ãå‡ºã—ã§è§£èª¬ã‚’è¡¨ç¤ºã—ã¾ã™</div>
                    </div>
                    <input type="checkbox" checked onchange="App.setFlag('showInfo', this.checked)" class="check-box">
                </div>
                
                <div class="flex items-center justify-between">
                    <span class="text-sm" data-i18n="opt_ar">ğŸ¥ ARã‚«ãƒ¡ãƒ©</span>
                    <input type="checkbox" id="toggle-ar" onchange="App.toggleAR(this.checked)" class="check-box">
                </div>
                
                <div class="space-y-2">
                    <div class="flex justify-between text-xs font-bold text-slate-400"><span data-i18n="opt_bg">èƒŒæ™¯ã®æ¿ƒã•</span><span id="val-bg" class="text-cyan-400">100%</span></div>
                    <input type="range" min="0" max="1" step="0.1" value="1" oninput="App.setOpacity('bg', this.value)">
                </div>

                <div class="space-y-2">
                    <div class="flex justify-between text-xs font-bold text-slate-400"><span data-i18n="opt_milky">å¤©ã®å· (Milky Way)</span><span id="val-milky" class="text-cyan-400">50%</span></div>
                    <input type="range" min="0" max="1" step="0.1" value="0.5" oninput="App.setOpacity('milky', this.value)">
                </div>

                <div class="flex items-center justify-between pt-2">
                    <span class="text-sm" data-i18n="opt_meteor">ğŸŒ  æµã‚Œæ˜Ÿ (Meteors)</span>
                    <input type="checkbox" checked onchange="App.setFlag('meteorEnabled', this.checked)" class="check-box">
                </div>
            </div>

            <!-- Emergency Axis Fix -->
             <div class="pt-4 border-t border-white/10">
                 <div class="flex items-center justify-between">
                    <div>
                        <span class="text-sm font-bold text-red-300" data-i18n="axis_fix">ğŸ”„ Axis Fix (å›è»¢è£œæ­£)</span>
                        <div class="text-[10px] text-slate-400" data-i18n="axis_fix_desc">å›è»¢ãŒé€†ã«ãªã‚‹å ´åˆã®ã¿ON</div>
                    </div>
                    <input type="checkbox" onchange="App.state.reverseAlpha = this.checked" class="check-box">
                </div>
                 <!-- 180 Rotation Fix Switch (Default OFF) -->
                 <div class="flex items-center justify-between mt-2">
                    <div>
                        <span class="text-sm font-bold text-yellow-300">ğŸ”„ Sky Rotate 180Â°</span>
                        <div class="text-[10px] text-slate-400">ä¸Šä¸‹é€†è»¢ã™ã‚‹å ´åˆã®ã¿ON</div>
                    </div>
                    <input type="checkbox" onchange="App.toggleSkyRotation(this.checked)" class="check-box">
                </div>
            </div>

            <!-- Language -->
            <div class="pt-4 border-t border-white/10">
                 <div class="flex items-center justify-between">
                    <span class="text-sm font-bold text-slate-300">ğŸ‡ºğŸ‡¸ English Mode</span>
                    <input type="checkbox" onchange="App.setLang(this.checked ? 'en' : 'ja')" class="check-box">
                </div>
            </div>
        </div>
    </div>

    <!-- TOAST -->
    <div id="toast" class="fixed top-24 left-1/2 transform -translate-x-1/2 bg-slate-900/90 text-white px-6 py-3 rounded-full shadow-2xl text-sm opacity-0 pointer-events-none transition-opacity z-[60] border border-cyan-500/30 font-bold text-center w-max max-w-[90%] backdrop-blur">Msg</div>

<script>
/**
 * ğŸŒŒ FIVE ISLANDS STARGAZER v25.5 (Final Polish)
 * Changes:
 * - ADDED: 'Lepus' (Rabbit) as Minor Constellation (Rank 3).
 * - UPDATED: Milky Way rendering to use Gaussian distribution for 'Cloud' effect.
 * - Confirmed: 180 Rotation is OFF by default (Correct Sky).
 */

// --- 0. DATA & CONSTANTS (Dictionary) ---
const I18N = {
    ja: {
        guide_title: "æ˜Ÿåº§è©³ç´°è§£èª¬",
        settings_title: "è¨­å®š (Settings)",
        cat_title: "è¡¨ç¤ºã‚«ãƒ†ã‚´ãƒª (Categories)",
        cat_famous: "ğŸ¦ æœ‰åãªæ˜Ÿåº§ (Famous)",
        cat_star_gal: "âœ¨ æœ‰åãªæ˜Ÿãƒ»éŠ€æ²³ (Stars/Gal)",
        cat_medium: "ğŸ» æ™®é€šã®æ˜Ÿåº§ (Medium)",
        cat_minor: "ğŸ¦ ãƒã‚¤ãƒŠãƒ¼æ˜Ÿåº§ (Minor)",
        opt_title: "è¡¨ç¤ºã‚ªãƒ—ã‚·ãƒ§ãƒ³ (Visibility)",
        opt_info: "ğŸŒŸ æ˜Ÿåº§ã®è§£èª¬ã‚’è¡¨ç¤º",
        opt_info_desc: "å¹ãå‡ºã—ã§è§£èª¬ã‚’è¡¨ç¤ºã—ã¾ã™",
        opt_ar: "ğŸ¥ ARã‚«ãƒ¡ãƒ©",
        opt_bg: "èƒŒæ™¯ã®æ¿ƒã•",
        opt_milky: "å¤©ã®å· (Milky Way)",
        opt_meteor: "ğŸŒ  æµã‚Œæ˜Ÿ (Meteors)",
        warn_drift: "âš ï¸ ã‚»ãƒ³ã‚µãƒ¼ã®ã‚ºãƒ¬ã«ã¤ã„ã¦",
        warn_drift_desc: "æ–¹ä½ãŒã‚ºãƒ¬ãŸå ´åˆã¯ã€ä¸Šã®ã€ŒğŸ¯ æ–¹ä½åˆã‚ã›ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã€ã‚¹ãƒãƒ›ã‚’æ°´å¹³ã«ã—ã¦èª¿æ•´ã—ã¦ãã ã•ã„ã€‚",
        axis_fix: "ğŸ”„ Axis Fix (å›è»¢è£œæ­£)",
        axis_fix_desc: "å›è»¢ãŒé€†ã«ãªã‚‹å ´åˆã®ã¿ON",
        loc_fixed: "äº”å³¶åˆ—å³¶ (Fixed)",
        loc_gps: "ç¾åœ¨åœ° (GPS)",
        nav_start: "ã¸ã®ãƒŠãƒ“ã‚’é–‹å§‹ ğŸš€",
        nav_end: "ãƒŠãƒ“ã‚’çµ‚äº†ã—ã¾ã—ãŸ",
        constellation: "æ˜Ÿåº§",
        famous_const: "æœ‰åãªæ˜Ÿåº§",
        star_gal: "æœ‰åãªæ˜Ÿãƒ»éŠ€æ²³",
        time_travel: "æ™‚é–“æ—…è¡Œ",
        time_reset: "ç¾åœ¨æ™‚åˆ»ã«æˆ»ã‚‹"
    },
    en: {
        guide_title: "Star Detailed Guide",
        settings_title: "Settings",
        cat_title: "Categories",
        cat_famous: "ğŸ¦ Famous Stars",
        cat_star_gal: "âœ¨ Major Stars & Galaxy",
        cat_medium: "ğŸ» Medium Stars",
        cat_minor: "ğŸ¦ Minor Stars",
        opt_title: "Visibility Options",
        opt_info: "ğŸŒŸ Show Info Bubble",
        opt_info_desc: "Show star descriptions in AR",
        opt_ar: "ğŸ¥ AR Camera",
        opt_bg: "Background Opacity",
        opt_milky: "Milky Way Visibility",
        opt_meteor: "ğŸŒ  Meteors",
        warn_drift: "âš ï¸ Sensor Drift Warning",
        warn_drift_desc: "If stars are misaligned, tap the 'ğŸ¯ Calibrate' button and hold your phone flat to reset heading.",
        axis_fix: "ğŸ”„ Axis Fix (Reverse)",
        axis_fix_desc: "Enable if rotation is reversed",
        loc_fixed: "Goto Islands (Fixed)",
        loc_gps: "Current loc (GPS)",
        nav_start: "Navigating to ",
        nav_end: "Navigation Ended",
        constellation: "Constellation",
        famous_const: "Famous Constellation",
        star_gal: "Major Star/Galaxy",
        time_travel: "TIME TRAVEL",
        time_reset: "Reset Time"
    }
};

// --- 0. DATA & CONSTANTS (Dictionary) ---
const RANK = { FAMOUS: 1, MEDIUM: 2, MINOR: 3, STAR_GAL: 4 };

// --- çµ±åˆæ¸ˆã¿ CONSTELLATION_DB (Base: Text 1, Content: Text 2) ---
const CONSTELLATION_DB = [
    // --- ğŸ¦ FAMOUS CONSTELLATIONS ---
    // --- 1. ORION (ã‚ªãƒªã‚ªãƒ³åº§) ---
    { 
        id: "ori", rank: 1, name: "ã‚ªãƒªã‚ªãƒ³åº§", en: "Orion", 
        desc: "ã€å†¬ã®ç‹è€…ã€‘å¤œç©ºã§æœ€ã‚‚è¯ã‚„ã‹ã§æ•´ã£ãŸæ˜Ÿåº§ã§ã™ã€‚ä¸­å¤®ã«ä¸¦ã¶ã€Œä¸‰ã¤æ˜Ÿã€ã¨ã€ãã‚Œã‚’å–ã‚Šå›²ã‚€4ã¤ã®æ˜ŸãŒç‰¹å¾´çš„ãªã€Œé¼“ï¼ˆã¤ã¥ã¿ï¼‰ã€ã®å½¢ã‚’æãã¾ã™ã€‚å·¦ä¸Šã®èµ¤è‰²è¶…å·¨æ˜Ÿã€Œãƒ™ãƒ†ãƒ«ã‚®ã‚¦ã‚¹ã€ã¯å¤ªé™½ã®ç´„1000å€ã‚‚ã®å¤§ãã•ãŒã‚ã‚Šã€å¤©æ–‡å­¦çš„ãªã‚¹ã‚±ãƒ¼ãƒ«ã§ã¯å¯¿å‘½ãŒå°½ãã‹ã‘ã¦ã„ã‚‹ãŸã‚ã€ã„ã¤è¶…æ–°æ˜Ÿçˆ†ç™ºã‚’èµ·ã“ã—ã¦ã‚‚ãŠã‹ã—ããªã„ã¨è¨€ã‚ã‚Œã¦ã„ã¾ã™ã€‚ä¸‰ã¤æ˜Ÿã®ä¸‹ã«ã¯ã€è‚‰çœ¼ã§ã‚‚ã¼ã‚“ã‚„ã‚Šã¨è¦‹ãˆã‚‹ã€Œã‚ªãƒªã‚ªãƒ³å¤§æ˜Ÿé›²ï¼ˆM42ï¼‰ã€ãŒã‚ã‚Šã€ãã“ã§ã¯ä»Šã¾ã•ã«æ–°ã—ã„æ˜ŸãŒç”Ÿã¾ã‚Œã¦ã„ã¾ã™ã€‚", 
        desc_en: "[Winter King] The most spectacular constellation. The three belt stars are surrounded by four stars forming an hourglass shape. The red supergiant Betelgeuse is 1,000 times larger than the Sun and might explode soon. Below the belt lies the Orion Nebula (M42), a stellar nursery.",
        myth: "æµ·ã®ç¥ãƒã‚»ã‚¤ãƒ‰ãƒ³ã®å­ã§ã€æ€ªåŠ›ã®å·¨äººã®ç‹©äººã§ã—ãŸã€‚æœˆã®å¥³ç¥ã‚¢ãƒ«ãƒ†ãƒŸã‚¹ã¨æ‹ã«è½ã¡ã¾ã—ãŸãŒã€ãã‚Œã‚’ã‚ˆãæ€ã‚ãªã‹ã£ãŸå½¼å¥³ã®å…„ã‚¢ãƒãƒ­ãƒ³ã®ç­–ç•¥ã«ã‚ˆã‚Šã€ã‚¢ãƒ«ãƒ†ãƒŸã‚¹è‡ªèº«ã®çŸ¢ã§èª¤ã£ã¦å°„æŠœã‹ã‚Œã€å‘½ã‚’è½ã¨ã—ã¾ã—ãŸã€‚æ­»å¾Œã€æ‚²ã—ã‚“ã å¥³ç¥ã«ã‚ˆã£ã¦ç©ºã«ä¸Šã’ã‚‰ã‚Œã¾ã—ãŸãŒã€ç”Ÿå‰ã®å‚²æ…¢ã•ã‚’ç¥ã«å’ã‚ã‚‰ã‚Œæ”¾ãŸã‚ŒãŸã€Œã‚µã‚½ãƒªã€ãŒè‹¦æ‰‹ã§ã€ã•ãã‚Šåº§ãŒæ±ã‹ã‚‰æ˜‡ã‚‹ã¨ã€é€ƒã’ã‚‹ã‚ˆã†ã«è¥¿ã¸æ²ˆã‚“ã§ã„ãã¾ã™ã€‚", 
        myth_en: "Son of Poseidon and a mighty hunter. He was accidentally killed by his love Artemis due to Apollo's trickery. He sets in the west whenever his enemy, the Scorpion, rises.",
        centerRA: 5.5, centerDec: -1.0, 
        lines: ["Betelgeuse","Alnitak", "Bellatrix","Mintaka", "Alnitak","Saiph", "Mintaka","Rigel", "Alnitak","Alnilam", "Alnilam","Mintaka", "Betelgeuse","Bellatrix", "Saiph","Rigel", "Betelgeuse","Meissa", "Bellatrix","Meissa"] 
    },

    // --- 2. SCORPIUS (ã•ãã‚Šåº§) ---
    { 
        id: "sco", rank: 1, name: "ã•ãã‚Šåº§", en: "Scorpius", 
        desc: "ã€å¤ã®Så­—ã€‘å—ã®ç©ºã«å¤§ããæã‹ã‚Œã‚‹Så­—ã‚«ãƒ¼ãƒ–ãŒç‰¹å¾´ã§ã™ã€‚å¿ƒè‡“ã«ä½ç½®ã™ã‚‹èµ¤ã„1ç­‰æ˜Ÿã€Œã‚¢ãƒ³ã‚¿ãƒ¬ã‚¹ã€ã¯ã€Œç«æ˜Ÿï¼ˆAresï¼‰ã«å¯¾æŠ—ï¼ˆAntiï¼‰ã™ã‚‹ã‚‚ã®ã€ã¨ã„ã†æ„å‘³ã‚’æŒã¡ã€ãã®èµ¤ã•ã¨æ˜ã‚‹ã•ã‚’ç«¶ã£ã¦ã„ã‚‹ã‚ˆã†ã«è¦‹ãˆã¾ã™ã€‚æ—¥æœ¬ã§ã¯é‡£ã‚Šé‡ã«è¦‹ç«‹ã¦ã¦ã€Œé­šé‡£ã‚Šæ˜Ÿã€ã¨å‘¼ã°ã‚Œã‚‹ã»ã‹ã€å®®æ²¢è³¢æ²»ã®ã€éŠ€æ²³é‰„é“ã®å¤œã€ã§ã¯ã€è‡ªåˆ†ã®ä½“ã‚’ç‡ƒã‚„ã—ã¦å¤œã®é—‡ã‚’ç…§ã‚‰ã™ã€Œã•ãã‚Šã®ç«ã€ã¨ã—ã¦æã‹ã‚Œã¦ã„ã¾ã™ã€‚", 
        desc_en: "[Summer S-Shape] A large S-curve in the south. The red star Antares means 'Rival of Mars'. In 'Night on the Galactic Railroad', it appears as the 'Scorpion's Fire'.",
        myth: "å‚²æ…¢ãªç‹©äººã‚ªãƒªã‚ªãƒ³ã‚’å€’ã™ãŸã‚ã«ç¥ãŒæ”¾ã£ãŸæ¯’ã‚µã‚½ãƒªã§ã™ã€‚ãã®åŠŸç¸¾ã§ç©ºã«ä¸Šã’ã‚‰ã‚Œã¾ã—ãŸã€‚ã‚ªãƒªã‚ªãƒ³ã¯ã‚µã‚½ãƒªã‚’æã‚Œã¦é€ƒã’å›ã£ã¦ã„ã‚‹ãŸã‚ã€äºŒã¤ã®æ˜Ÿåº§ã¯æ±ºã—ã¦åŒã˜ç©ºã«ã¯ç¾ã‚Œã¾ã›ã‚“ã€‚", 
        myth_en: "The scorpion sent by the gods to defeat the hunter Orion. They are never seen in the sky at the same time.",
        centerRA: 16.5, centerDec: -26.0, 
        lines: ["Antares","Dschubba", "Dschubba","Graffias", "Dschubba","Pi Sco", "Antares","Wei", "Antares","Tau Sco", "Wei","Mu Sco", "Mu Sco","Zeta Sco", "Zeta Sco","Eta Sco", "Eta Sco","Sargas", "Sargas","Iota Sco", "Iota Sco","Kappa Sco", "Kappa Sco","Shaula", "Shaula","Lesath"] 
    },

    // --- 3. SUMMER TRIANGLE (å¤ã®å¤§ä¸‰è§’) ---
    { 
        id: "sum", rank: 1, name: "å¤ã®å¤§ä¸‰è§’", en: "Summer Triangle", 
        desc: "ã€å¤ã®ç›®å°ã€‘ã“ã¨åº§ã®ãƒ™ã‚¬ï¼ˆç¹”å§«ï¼‰ã€ã‚ã—åº§ã®ã‚¢ãƒ«ã‚¿ã‚¤ãƒ«ï¼ˆå½¦æ˜Ÿï¼‰ã€ã¯ãã¡ã‚‡ã†åº§ã®ãƒ‡ãƒãƒ–ã‚’çµã¶å·¨å¤§ãªä¸‰è§’å½¢ã®ã‚¢ã‚¹ãƒ†ãƒªã‚ºãƒ ï¼ˆæ˜Ÿã®ä¸¦ã³ï¼‰ã§ã™ã€‚å¤©ã®å·ã‚’ã¾ãŸãã‚ˆã†ã«ä½ç½®ã—ã¦ãŠã‚Šã€å¤ã®å¤œç©ºã‚’è¦‹ä¸Šã’ã‚‹éš›ã®ã‚¬ã‚¤ãƒ‰å½¹ã¨ãªã‚Šã¾ã™ã€‚", 
        desc_en: "[Summer Mark] A huge triangle connecting Vega, Altair, and Deneb. It spans across the Milky Way.",
        myth: "ãƒ™ã‚¬ã¯æ©Ÿç¹”ã‚Šã®åæ‰‹ã€Œç¹”å§«ã€ã€ã‚¢ãƒ«ã‚¿ã‚¤ãƒ«ã¯ç‰›ä½¿ã„ã®ã€Œå½¦æ˜Ÿã€ã§ã™ã€‚äºŒäººã¯æ‹ã«è½ã¡ã¦ä»•äº‹ã‚’ã‚µãƒœã£ãŸãŸã‚ã€ç¥æ§˜ã®æ€’ã‚Šã«è§¦ã‚Œã¦å¤©ã®å·ã®ä¸¡å²¸ã«å¼•ãé›¢ã•ã‚Œã¾ã—ãŸã€‚ã—ã‹ã—ã€å¹´ã«ä¸€åº¦ã€7æœˆ7æ—¥ã®å¤œã ã‘ã‚«ã‚µã‚µã‚®ãŒæ©‹ã‚’æ¶ã‘ã¦ä¼šã†ã“ã¨ã‚’è¨±ã•ã‚Œã¦ã„ã¾ã™ã€‚", 
        myth_en: "Vega is the Weaver Girl and Altair is the Cowherd. Separated by the Milky Way, they are allowed to meet only once a year on July 7th.",
        centerRA: 19.5, centerDec: 28.0, 
        lines: ["Vega","Altair", "Altair","Deneb", "Deneb","Vega"] 
    },

    // --- 4. TAURUS (ãŠã†ã—åº§) ---
    { 
        id: "tau", rank: 1, name: "ãŠã†ã—åº§", en: "Taurus", 
        desc: "ã€å†¬ã®Vå­—ã€‘ã‚ªãƒªã‚ªãƒ³åº§ã®å³ä¸Šã«ä½ç½®ã—ã€ã‚¢ãƒ«ãƒ‡ãƒãƒ©ãƒ³ã‚’ç­†é ­ã«ã—ãŸVå­—å‹ã®é¡”ã¨ã€ç¾ã—ã„æ•£é–‹æ˜Ÿå›£ã€Œãƒ—ãƒ¬ã‚¢ãƒ‡ã‚¹ï¼ˆã™ã°ã‚‹ï¼‰ã€ãŒç‰¹å¾´ã§ã™ã€‚ãƒ—ãƒ¬ã‚¢ãƒ‡ã‚¹æ˜Ÿå›£ã¯è‚‰çœ¼ã§ã‚‚6ã€œ7å€‹ã®æ˜ŸãŒé›†ã¾ã£ã¦ã„ã‚‹ã®ãŒè¦‹ãˆã€æ˜”ã¯å…µå£«ã®è¦–åŠ›æ¤œæŸ»ã«ä½¿ã‚ã‚ŒãŸã¨ã„ã†é€¸è©±ãŒã‚ã‚Šã¾ã™ã€‚", 
        desc_en: "[Winter V] Features a V-shaped face led by Aldebaran and the beautiful Pleiades cluster (Subaru).",
        myth: "å¤§ç¥ã‚¼ã‚¦ã‚¹ãŒã€ãƒ•ã‚§ãƒ‹ã‚­ã‚¢ã®ç‹å¥³ã‚¨ã‚¦ãƒ­ãƒšã«æ‹ã‚’ã—ã€å½¼å¥³ã‚’èƒŒä¸­ã«ä¹—ã›ã¦é€£ã‚Œå»ã‚‹ãŸã‚ã«åŒ–ã‘ãŸç™½ã„é›„ç‰›ã®å§¿ã§ã™ã€‚ã‚¨ã‚¦ãƒ­ãƒšã¯æ„›ã‚‰ã—ã„ç™½ã„ç‰›ã«å¿ƒã‚’è¨±ã—ã¦èƒŒä¸­ã«ä¹—ã£ã¦ã—ã¾ã„ã€ãã®ã¾ã¾ã‚¯ãƒ¬ã‚¿å³¶ã¾ã§é€£ã‚Œã¦è¡Œã‹ã‚Œã¾ã—ãŸã€‚", 
        myth_en: "Zeus disguised himself as a white bull to carry away the princess Europa.",
        centerRA: 4.5, centerDec: 16.0, 
        lines: ["Aldebaran","Elnath", "Aldebaran","Zeta Tau", "Aldebaran","Ain", "Ain","Hyadum I", "Hyadum I","Delta Tau", "Delta Tau","Aldebaran", "Elnath","Zeta Tau"] 
    },

    // --- 5. GEMINI (ãµãŸã”åº§) ---
    { 
        id: "gem", rank: 1, name: "ãµãŸã”åº§", en: "Gemini", 
        desc: "ã€ä»²è‰¯ã—å…„å¼Ÿã€‘ã‚«ã‚¹ãƒˆãƒ«ï¼ˆå…„ãƒ»éŠ€ï¼‰ã¨ãƒãƒ«ãƒƒã‚¯ã‚¹ï¼ˆå¼Ÿãƒ»é‡‘ï¼‰ãŒä¸¦ã‚“ã§è¼ã„ã¦ã„ã¾ã™ã€‚è‚‰çœ¼ã§ã¯äºŒã¤ã®æ˜Ÿã«è¦‹ãˆã¾ã™ãŒã€å®Ÿã¯ã‚«ã‚¹ãƒˆãƒ«ã¯6ã¤ã®æ˜ŸãŒè¤‡é›‘ã«å›ã‚Šåˆã†ã€Œ6é‡é€£æ˜Ÿã€ã¨ã„ã†é©šãã¹ãã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚å†¬ã®ç©ºé«˜ãã«è¦‹ãˆã€æµã‚Œæ˜Ÿï¼ˆãµãŸã”åº§æµæ˜Ÿç¾¤ï¼‰ã®æ”¾å°„ç‚¹ã¨ã—ã¦ã‚‚æœ‰åã§ã™ã€‚", 
        desc_en: "[Friendly Twins] Castor (Silver) and Pollux (Gold) shine side by side. Castor is actually a sextuple star system.",
        myth: "ã‚¹ãƒ‘ãƒ«ã‚¿ã®ç‹å¦ƒãƒ¬ãƒ€ã®æ¯å­ãŸã¡ã§ã™ã€‚å¼Ÿãƒãƒ«ãƒƒã‚¯ã‚¹ã¯ä¸æ­»èº«ã®ç¥ã®å­ã§ã—ãŸãŒã€å…„ã‚«ã‚¹ãƒˆãƒ«ã¯äººé–“ã§ã—ãŸã€‚æˆ¦ã„ã§å…„ãŒæ­»ã‚“ã ã¨ãã€å¼Ÿã¯è‡ªåˆ†ã®ä¸æ­»ã®å‘½ã‚’å…„ã«åˆ†ã‘ã¦ã»ã—ã„ã¨ã‚¼ã‚¦ã‚¹ã«é¡˜ã„ã€äºŒäººã§æ˜Ÿåº§ã¨ãªã£ã¦ç©ºã«ä¸ŠãŒã‚Šã€æ°¸é ã«ä¸€ç·’ã«ã„ã‚‹ã“ã¨ã«ãªã‚Šã¾ã—ãŸã€‚", 
        myth_en: "Pollux shared his immortality with his mortal brother Castor so they could be together in the stars forever.",
        centerRA: 7.0, centerDec: 22.0, 
        lines: ["Castor","Pollux", "Castor","Mebsuta", "Mebsuta","Tejat", "Pollux","Wasat", "Wasat","Alhena"] 
    },

    // --- 6. LEO (ã—ã—åº§) ---
    { 
        id: "leo", rank: 1, name: "ã—ã—åº§", en: "Leo", 
        desc: "ã€æ˜¥ã®éŒã€‘ã€Œï¼Ÿã€ãƒãƒ¼ã‚¯ã‚’è£è¿”ã—ãŸã‚ˆã†ãªã€Œã—ã—ã®å¤§éŒã€ã¨å‘¼ã°ã‚Œã‚‹æ˜Ÿã®ä¸¦ã³ãŒãƒ©ã‚¤ã‚ªãƒ³ã®é ­ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚1ç­‰æ˜Ÿãƒ¬ã‚°ãƒ«ã‚¹ã¯ã€Œå°ã•ãªç‹æ§˜ã€ã¨ã„ã†æ„å‘³ã§ã€é»„é“ï¼ˆå¤ªé™½ã®é€šã‚Šé“ï¼‰ã®ã™ãè¿‘ãã«ã‚ã‚‹ãŸã‚ã€æœˆã‚„æƒ‘æ˜ŸãŒã‚ˆãæ¥è¿‘ã—ã¾ã™ã€‚", 
        desc_en: "[Spring Sickle] The backward '?' shape is the head. Regulus means 'Little King'.",
        myth: "è‹±é›„ãƒ˜ãƒ©ã‚¯ãƒ¬ã‚¹ã®12ã®å†’é™ºã®æœ€åˆã«ç™»å ´ã™ã‚‹ã€ãƒãƒ¡ã‚¢ã®æ£®ã®äººé£Ÿã„ãƒ©ã‚¤ã‚ªãƒ³ã§ã™ã€‚çŸ¢ã‚‚å‰£ã‚‚é€šã˜ãªã„ç¡¬ã„çš®è†šã‚’æŒã£ã¦ã„ã¾ã—ãŸãŒã€ãƒ˜ãƒ©ã‚¯ãƒ¬ã‚¹ã«æ´çªŸã«è¿½ã„è©°ã‚ã‚‰ã‚Œã€3æ—¥3æ™©é¦–ã‚’ç· ã‚ç¶šã‘ã‚‰ã‚Œã¦é€€æ²»ã•ã‚Œã¾ã—ãŸã€‚", 
        myth_en: "The Nemean Lion fought by Hercules. It had impenetrable skin but was strangled by the hero.",
        centerRA: 10.5, centerDec: 15.0, 
        lines: ["Regulus","Algieba", "Algieba","Adhafera", "Adhafera","Rasalas", "Regulus","Chertan", "Chertan","Zosma", "Zosma","Denebola", "Algieba","Zosma"] 
    },

    // --- 7. VIRGO (ãŠã¨ã‚åº§) ---
    { 
        id: "vir", rank: 1, name: "ãŠã¨ã‚åº§", en: "Virgo", 
        desc: "ã€æ˜¥ã®å¥³ç¥ã€‘ç´”ç™½ã«è¼ã1ç­‰æ˜Ÿã‚¹ãƒ”ã‚«ãŒç›®å°ã§ã™ã€‚ã€Œã‚¹ãƒ”ã‚«ã€ã¯ã€Œéº¦ã®ç©‚ã€ã¨ã„ã†æ„å‘³ã§ã€æ˜¥ã®å¤œç©ºã«é’ç™½ãæ¸…ã‚‰ã‹ã«å…‰ã‚Šã¾ã™ã€‚ãŠã¨ã‚åº§ã®æ–¹å‘ã«ã¯ã€ŒãŠã¨ã‚åº§éŠ€æ²³å›£ã€ã¨ã„ã†æ•°åƒå€‹ã®éŠ€æ²³ã®é›†ã¾ã‚ŠãŒã‚ã‚Šã€å®‡å®™ã®æ·±æ·µã‚’è¦—ã‘ã‚‹å ´æ‰€ã§ã‚‚ã‚ã‚Šã¾ã™ã€‚", 
        desc_en: "[Spring Maiden] Marked by the white star Spica, meaning 'Ear of Wheat'. Home to the Virgo Cluster of galaxies.",
        myth: "è¾²æ¥­ã®å¥³ç¥ãƒ‡ãƒ¡ãƒ†ãƒ«ã€ã¾ãŸã¯ãã®å¨˜ãƒšãƒ«ã‚»ãƒãƒã®å§¿ã¨è¨€ã‚ã‚Œã¾ã™ã€‚ãƒšãƒ«ã‚»ãƒãƒãŒå†¥ç•Œã®ç‹ãƒãƒ‡ã‚¹ã«é€£ã‚Œå»ã‚‰ã‚ŒãŸãŸã‚ã€æ¯ãƒ‡ãƒ¡ãƒ†ãƒ«ãŒæ‚²ã—ã‚“ã§åœ°ä¸Šã¯å†¬ã«ãªã‚Šã¾ã—ãŸã€‚å½¼å¥³ãŒæˆ»ã£ã¦ãã‚‹æ˜¥ã‹ã‚‰å¤ã®é–“ã ã‘ã€è‰æœ¨ã¯è‚²ã¡ã¾ã™ã€‚", 
        myth_en: "Represents Demeter or Persephone. When she goes to the underworld, winter comes.",
        centerRA: 13.3, centerDec: -2.0, 
        lines: ["Spica","Heze", "Spica","Porrima", "Porrima","Auva", "Auva","Zavijava", "Porrima","Vindemiatrix", "Vindemiatrix","Zavijava"] 
    },

    // --- 8. URSA MAJOR (ãŠãŠãã¾åº§) ---
    { 
        id: "uma", rank: 1, name: "ãŠãŠãã¾åº§", en: "Ursa Major", 
        desc: "ã€åŒ—æ–—ä¸ƒæ˜Ÿã€‘è…°ã‹ã‚‰å°»å°¾ã«ã‚ãŸã‚‹7ã¤ã®æ˜Ÿã€ŒåŒ—æ–—ä¸ƒæ˜Ÿã€ãŒæœ‰åã§ã™ã€‚ã²ã—ã‚ƒãã®æ°´ã‚’æ±²ã‚€éƒ¨åˆ†ã®2ã¤ã®æ˜Ÿã‚’çµã‚“ã§5å€ä¼¸ã°ã™ã¨ã€åŒ—æ¥µæ˜ŸãŒè¦‹ã¤ã‹ã‚Šã¾ã™ã€‚æŸ„ã®å…ˆã‹ã‚‰2ç•ªç›®ã®æ˜Ÿã€ŒãƒŸã‚¶ãƒ¼ãƒ«ã€ã«ã¯ã€ã€Œã‚¢ãƒ«ã‚³ãƒ«ã€ã¨ã„ã†å°ã•ãªæ˜ŸãŒå¯„ã‚Šæ·»ã£ã¦ãŠã‚Šã€æ˜”ã¯è¦–åŠ›æ¤œæŸ»ã«ä½¿ã‚ã‚ŒãŸã¨æœ‰åã§ã™ã€‚", 
        desc_en: "[Big Dipper] Famous for the Big Dipper asterism. Used to find the North Star. Mizar and Alcor are a famous visual double.",
        myth: "æœˆã®å¥³ç¥ã‚¢ãƒ«ãƒ†ãƒŸã‚¹ã®ä¾å¥³ã‚«ãƒªã‚¹ãƒˆã®å§¿ã§ã™ã€‚ã‚¼ã‚¦ã‚¹ã¨ã®é–“ã«å­ã‚’ã‚‚ã†ã‘ãŸãŸã‚ã€ã‚¼ã‚¦ã‚¹ã®å¦»ãƒ˜ãƒ©ã®æ€’ã‚Šã‚’è²·ã„ã€ç†Šã«å¤‰ãˆã‚‰ã‚Œã¦ã—ã¾ã„ã¾ã—ãŸã€‚å¾Œã«ç‹©äººã¨ãªã£ãŸè‡ªåˆ†ã®æ¯å­ã«å°„æ®ºã•ã‚Œãã†ã«ãªã‚Šã€ã‚¼ã‚¦ã‚¹ã«ã‚ˆã£ã¦æ…Œã¦ã¦ç©ºã«ä¸Šã’ã‚‰ã‚Œã¾ã—ãŸã€‚", 
        myth_en: "Callisto, a nymph turned into a bear by Hera. She was placed in the sky by Zeus to save her from being hunted by her own son.",
        centerRA: 11.5, centerDec: 50.0, 
        lines: ["Dubhe","Merak", "Merak","Phecda", "Phecda","Megrez", "Megrez","Alioth", "Alioth","Mizar", "Mizar","Alkaid", "Megrez","Dubhe", "Phecda","Talitha", "Talitha","Tania Borealis", "Tania Borealis","Mu UMa"] 
    },

    // --- 9. SAGITTARIUS (ã„ã¦åº§) ---
    { 
        id: "sgr", rank: 1, name: "ã„ã¦åº§", en: "Sagittarius", 
        desc: "ã€éŠ€æ²³ã®ä¸­å¿ƒã€‘å¤©ã®å·ãŒæœ€ã‚‚æ¿ƒãæ˜ã‚‹ãè¦‹ãˆã‚‹æ–¹å‘ã«ã‚ã‚Šã¾ã™ã€‚6ã¤ã®æ˜ŸãŒã²ã—ã‚ƒãã®å½¢ã«ä¸¦ã‚“ã ã€Œå—æ–—å…­æ˜Ÿã€ã‚„ã€å…¨ä½“ãŒã€Œãƒ†ã‚£ãƒ¼ãƒãƒƒãƒˆã€ã®å½¢ã«è¦‹ãˆã‚‹ã®ãŒç‰¹å¾´ã§ã™ã€‚ãã®æ³¨ãå£ã®å…ˆã‹ã‚‰ã¯ã€æ¹¯æ°—ã®ã‚ˆã†ã«å¤©ã®å·ãŒç«‹ã¡æ˜‡ã£ã¦ã„ã¾ã™ã€‚", 
        desc_en: "[Galactic Center] Located in the densest part of the Milky Way. Features the 'Milk Dipper' and 'Teapot' asterisms.",
        myth: "åŠäººåŠé¦¬ã®ã‚±ãƒ³ã‚¿ã‚¦ãƒ«ã‚¹æ—ã®è³¢è€…ã‚±ã‚¤ãƒ­ãƒ¼ãƒ³ã®å§¿ã§ã™ã€‚åŒ»å­¦ã‚„æ­¦è¡“ã«å„ªã‚Œã€ãƒ˜ãƒ«ã‚¯ãƒ¬ã‚¹ã‚„ã‚¢ã‚¹ã‚¯ãƒ¬ãƒ”ã‚ªã‚¹ã®å…ˆç”Ÿã§ã‚‚ã‚ã‚Šã¾ã—ãŸã€‚ãƒ˜ãƒ«ã‚¯ãƒ¬ã‚¹ãŒèª¤ã£ã¦æ”¾ã£ãŸæ¯’çŸ¢ã«å½“ãŸã‚Šã€ä¸æ­»ã®å‘½ã‚’ãƒ—ãƒ­ãƒ¡ãƒ†ã‚¦ã‚¹ã«è­²ã£ã¦æ­»ã‚’é¸ã³ã€æ˜Ÿåº§ã¨ãªã‚Šã¾ã—ãŸã€‚", 
        myth_en: "Chiron, the wise centaur and teacher of heroes. He gave up his immortality after being accidentally wounded by Hercules.",
        centerRA: 19.0, centerDec: -25.0, 
        lines: ["Kaus Borealis","Kaus Media", "Kaus Media","Kaus Australis", "Kaus Australis","Alnasl", "Kaus Media","Alnasl", "Kaus Borealis","Phi Sgr", "Phi Sgr","Nunki", "Nunki","Tau Sgr", "Tau Sgr","Ascella", "Ascella","Phi Sgr"] 
    },

    // --- 10. CANIS MAJOR (ãŠãŠã„ã¬åº§) ---
    { 
        id: "cma", rank: 1, name: "ãŠãŠã„ã¬åº§", en: "Canis Major", 
        desc: "ã€å…¨å¤©ä¸€ã®è¼ãã€‘å£å…ƒã§è¼ã1ç­‰æ˜Ÿã€Œã‚·ãƒªã‚¦ã‚¹ã€ã¯ã€ãƒã‚¤ãƒŠã‚¹1.5ç­‰æ˜Ÿã¨ã„ã†å¼·çƒˆãªæ˜ã‚‹ã•ã§ã€å…¨å¤©ã§ä¸€ç•ªæ˜ã‚‹ã„æ’æ˜Ÿã§ã™ã€‚åœ°çƒã‹ã‚‰ç´„8.6å…‰å¹´ã¨éå¸¸ã«è¿‘ã„å ´æ‰€ã«ã‚ã‚Šã¾ã™ã€‚å†¬ã®å¤§ä¸‰è§’ã®åº•è¾ºã‚’æ§‹æˆã—ã€å†¬ã®å¤œç©ºã‚’æ”¯é…ã™ã‚‹å­˜åœ¨æ„ŸãŒã‚ã‚Šã¾ã™ã€‚", 
        desc_en: "[Brightest Star] Home to Sirius, the brightest star in the sky. Part of the Winter Triangle.",
        myth: "ã‚ªãƒªã‚ªãƒ³ãŒé€£ã‚Œã¦ã„ã‚‹çŒŸçŠ¬ã®å§¿ã§ã™ã€‚ç²ç‰©ã§ã‚ã‚‹ã†ã•ãåº§ã‚’è¿½ã„ã‹ã‘ã¦ã„ã‚‹ã¨ã‚‚ã€ä¸€é£›ã³ã§ç²ç‰©ã‚’æ•ã‚‰ãˆã‚‹åçŠ¬ãƒ©ã‚¤ãƒ©ãƒ—ã‚¹ã§ã‚ã‚‹ã¨ã‚‚è¨€ã‚ã‚Œã¦ã„ã¾ã™ã€‚å¤ä»£ã‚¨ã‚¸ãƒ—ãƒˆã§ã¯ãƒŠã‚¤ãƒ«å·ã®æ°¾æ¿«ã‚’çŸ¥ã‚‰ã›ã‚‹é‡è¦ãªæ˜Ÿã¨ã—ã¦å´‡æ‹ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚", 
        myth_en: "Orion's hunting dog, chasing Lepus the Hare. In Egypt, Sirius predicted the Nile floods.",
        centerRA: 6.8, centerDec: -20.0, 
        lines: ["Sirius","Mirzam", "Sirius","Muliphein", "Sirius","Adhara", "Adhara","Wezen", "Wezen","Aludra", "Wezen","Furud"] 
    },

    // --- 11. CANIS MINOR (ã“ã„ã¬åº§) ---
    { 
        id: "cmi", rank: 1, name: "ã“ã„ã¬åº§", en: "Canis Minor", 
        desc: "ã€å†¬ã®å¤§ä¸‰è§’ã€‘1ç­‰æ˜Ÿã€Œãƒ—ãƒ­ã‚­ã‚ªãƒ³ã€ã¨3ç­‰æ˜Ÿã€Œã‚´ãƒ¡ã‚¤ã‚µã€ã®2ã¤ã®æ˜ŸãŒç›®ç«‹ã¤å°ã•ãªæ˜Ÿåº§ã§ã™ã€‚ãƒ—ãƒ­ã‚­ã‚ªãƒ³ã¯åœ°çƒã‹ã‚‰ç´„11.5å…‰å¹´ã¨ã€å¤ªé™½ç³»ã«éå¸¸ã«è¿‘ã„ã€ŒãŠéš£ã•ã‚“ã€ã®æ˜Ÿã§ã‚‚ã‚ã‚Šã¾ã™ã€‚ã€ŒçŠ¬ã®å…ˆé§†ã‘ã€ã¨ã„ã†æ„å‘³ã‚’æŒã¡ã€ã‚·ãƒªã‚¦ã‚¹ã‚ˆã‚Šã‚‚å°‘ã—æ—©ãæ±ã®ç©ºã‹ã‚‰æ˜‡ã£ã¦ãã¾ã™ã€‚", 
        desc_en: "[Winter Triangle] Small constellation featuring Procyon. Procyon is a close neighbor, only 11.5 light-years away.",
        myth: "ãŠãŠã„ã¬åº§ã¨å…±ã«ã‚ªãƒªã‚ªãƒ³ã«é€£ã‚Œã‚‰ã‚ŒãŸçŒŸçŠ¬ã§ã™ã€‚ã¾ãŸã€é¹¿ã«å¤‰ãˆã‚‰ã‚ŒãŸä¸»äººã‚¢ã‚¯ã‚¿ã‚¤ã‚ªãƒ³ã‚’å™›ã¿æ®ºã—ã¦ã—ã¾ã£ãŸæ‚²ã—ã„çŒŸçŠ¬ãƒ¡ãƒ©ãƒ³ãƒã‚¹ã§ã‚ã‚‹ã¨ã„ã†èª¬ã‚‚ã‚ã‚Šã¾ã™ã€‚", 
        myth_en: "One of Orion's hunting dogs. Sometimes associated with Maera or the dog of Actaeon.",
        centerRA: 7.6, centerDec: 5.0, 
        lines: ["Procyon","Gomeisa"] 
    },

    // --- 12. AURIGA (ãã‚‡ã—ã‚ƒåº§) ---
    { 
        id: "aur", rank: 1, name: "ãã‚‡ã—ã‚ƒåº§", en: "Auriga", 
        desc: "ã€å°†æ£‹ã®é§’ã€‘å¤©é ‚ä»˜è¿‘ã§è¼ã1ç­‰æ˜Ÿã€Œã‚«ãƒšãƒ©ã€ã‚’å«ã‚€ã€ç¾ã—ã„äº”è§’å½¢ãŒç‰¹å¾´ã§ã™ã€‚ã“ã®äº”è§’å½¢ã¯å°†æ£‹ã®é§’ã®ã‚ˆã†ãªå½¢ã‚’ã—ã¦ãŠã‚Šã€å†¬ã®ãƒ€ã‚¤ãƒ¤ãƒ¢ãƒ³ãƒ‰ã®ä¸€éƒ¨ã‚’æ§‹æˆã—ã¦ã„ã¾ã™ã€‚ã‚«ãƒšãƒ©ã¯é»„è‰²ã„å·¨æ˜Ÿã§ã€æ¸©åº¦ã‚„è‰²ãŒå¤ªé™½ã¨ã‚ˆãä¼¼ã¦ã„ã¾ã™ã€‚", 
        desc_en: "[Charioteer] Features the bright star Capella and a pentagon shape. Capella is a yellow giant similar to the Sun.",
        myth: "ã‚¢ãƒ†ãƒã®ç‹ã‚¨ãƒªã‚¯ãƒˆãƒ‹ã‚¦ã‚¹ã®å§¿ã§ã™ã€‚å½¼ã¯è¶³ãŒä¸è‡ªç”±ã ã£ãŸãŸã‚ã€é¦¬4é ­ãŒå¼•ãæˆ¦è»Šã‚’ç™ºæ˜ã—ã¦è‡ªåœ¨ã«èµ°ã‚Šå›ã‚Šã¾ã—ãŸã€‚ãã®åŠŸç¸¾ã‚’ã‚¼ã‚¦ã‚¹ãŒç§°ãˆã€æ˜Ÿåº§ã«ã—ã¾ã—ãŸã€‚ã‚«ãƒšãƒ©ã¯å½¼ãŒæŠ±ã„ã¦ã„ã‚‹å¯æ„›ã„å­ãƒ¤ã‚®ã®å§¿ã§ã™ã€‚", 
        myth_en: "Erichthonius, King of Athens, who invented the four-horse chariot.",
        centerRA: 5.5, centerDec: 40.0, 
        lines: ["Capella","Menkalinan", "Menkalinan","Mahasim", "Mahasim","Elnath", "Elnath","Hassaleh", "Hassaleh","Capella"] 
    },

    // --- 13. BOÃ–TES (ã†ã—ã‹ã„åº§) ---
    { 
        id: "boo", rank: 1, name: "ã†ã—ã‹ã„åº§", en: "BoÃ¶tes", 
        desc: "ã€æ˜¥ã®å¤§æ›²ç·šã€‘ã‚ªãƒ¬ãƒ³ã‚¸è‰²ã«è¼ã1ç­‰æ˜Ÿã€Œã‚¢ãƒ¼ã‚¯ãƒˆã‚¥ãƒ«ã‚¹ã€ãŒç›®å°ã§ã™ã€‚åŒ—æ–—ä¸ƒæ˜Ÿã®æŸ„ã®ã‚«ãƒ¼ãƒ–ã‚’ãã®ã¾ã¾ä¼¸ã°ã—ã¦è¦‹ã¤ã‘ã‚‹ã€Œæ˜¥ã®å¤§æ›²ç·šã€ã®çµ‚ç‚¹ã«ã‚ãŸã‚Šã¾ã™ã€‚æ—¥æœ¬ã§ã¯ã€Œéº¦æ˜Ÿã€ã¨å‘¼ã°ã‚Œã€éº¦ã®åç©«æ™‚æœŸã«å¤•ç©ºé«˜ãè¼ãã“ã¨ã‹ã‚‰è¦ªã—ã¾ã‚Œã¾ã—ãŸã€‚", 
        desc_en: "[Spring Curve] Features the orange giant Arcturus. Found by following the arc of the Big Dipper's handle.",
        myth: "å¤©ã‚’æ”¯ãˆã‚‹å·¨äººã‚¢ãƒˆãƒ©ã‚¹ã§ã‚ã‚‹ã¨ã‚‚ã€è¾²è€•ã‚’äººé–“ã«æ•™ãˆãŸãƒˆãƒªãƒ—ãƒˆãƒ¬ãƒ¢ã‚¹ã§ã‚ã‚‹ã¨ã‚‚è¨€ã‚ã‚Œã¾ã™ã€‚åŒ—æ–—ä¸ƒæ˜Ÿï¼ˆãŠãŠãã¾åº§ï¼‰ã‚’è¿½ã„ç«‹ã¦ã¦ã€ä¸€æ™©ä¸­ç©ºã‚’å›ã‚‰ã›ã‚‹ã€Œç†Šã®ç•ªäººã€ã®å½¹å‰²ã‚’æ‹…ã£ã¦ã„ã¾ã™ã€‚", 
        myth_en: "The Herdsman or Bear Driver, who chases Ursa Major around the pole.",
        centerRA: 14.5, centerDec: 30.0, 
        lines: ["Arcturus","Izar", "Izar","Nekkar", "Nekkar","Seginus", "Seginus","Muphrid", "Muphrid","Arcturus", "Nekkar","Alkalurops"] 
    },

    // --- ğŸ» MEDIUM CONSTELLATIONS ---
    // --- 1. CASSIOPEIA (ã‚«ã‚·ã‚ªãƒšãƒ¤åº§) ---
    { 
        id: "cas", rank: 2, name: "ã‚«ã‚·ã‚ªãƒšãƒ¤åº§", en: "Cassiopeia", 
        desc: "ã€åŒ—ã®Wå­—ã€‘5ã¤ã®æ˜ŸãŒã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆã®ã€ŒWã€ï¼ˆã¾ãŸã¯Mï¼‰ã®å½¢ã«ä¸¦ã‚“ã§ã„ã‚‹ã®ãŒç‰¹å¾´ã§ã™ã€‚åŒ—æ¥µæ˜Ÿã‚’æ¢ã™ãŸã‚ã®é‡è¦ãªç›®å°ã¨ã—ã¦ã€åŒ—æ–—ä¸ƒæ˜Ÿã¨å¯¾ã‚’ãªã™å­˜åœ¨ã§ã™ã€‚ç§‹ã®å¤œç©ºé«˜ãã«è¦‹ãˆã€å¤©ã®å·ã®ä¸­ã«ä½ç½®ã—ã¦ã„ã‚‹ãŸã‚ã€åŒçœ¼é¡ã§è¦—ãã¨å¤šãã®å¾®å…‰æ˜ŸãŒè¦‹ãˆã¾ã™ã€‚", 
        desc_en: "[North W] Features a distinctive 'W' or 'M' shape. A key guide to finding Polaris, opposite the Big Dipper.",
        myth: "å¤ä»£ã‚¨ãƒã‚ªãƒ”ã‚¢ã®ç‹å¦ƒã§ã™ã€‚ã€Œè‡ªåˆ†ã®å¨˜ã‚¢ãƒ³ãƒ‰ãƒ­ãƒ¡ãƒ€ã®æ–¹ãŒã€æµ·ã®å¦–ç²¾ãŸã¡ã‚ˆã‚Šç¾ã—ã„ã€ã¨è‡ªæ…¢ã—ãŸãŸã‚ã€æµ·ç¥ãƒã‚»ã‚¤ãƒ‰ãƒ³ã®æ€’ã‚Šã‚’è²·ã„ã¾ã—ãŸã€‚ç½°ã¨ã—ã¦ã€æ¤…å­ã«ç¸›ã‚Šä»˜ã‘ã‚‰ã‚ŒãŸã¾ã¾åŒ—ã®ç©ºã‚’å›ã‚Šç¶šã‘ã€ä¸€æ—¥ã®åŠåˆ†ã¯é€†ã•ã¾ã«åŠã‚‹ã•ã‚Œã‚‹å§¿ã«ãªã£ã¦ã„ã¾ã™ã€‚", 
        myth_en: "The vain queen who boasted of her daughter's beauty. Punished by rotating in the sky while tied to her chair.",
        centerRA: 1.0, centerDec: 60.0, 
        lines: ["Caph","Schedar", "Schedar","Gamma Cas", "Gamma Cas","Ruchbah", "Ruchbah","Segin"] 
    },

    // --- 2. ANDROMEDA (ã‚¢ãƒ³ãƒ‰ãƒ­ãƒ¡ãƒ€åº§) ---
    { 
        id: "and", rank: 2, name: "ã‚¢ãƒ³ãƒ‰ãƒ­ãƒ¡ãƒ€åº§", en: "Andromeda", 
        desc: "ã€éŠ€æ²³ã®çª“ã€‘ãƒšã‚¬ã‚¹ã‚¹åº§ã®å››è¾ºå½¢ã‹ã‚‰åŒ—æ±ã«ä¼¸ã³ã‚‹æ˜Ÿåˆ—ã§ã™ã€‚è†ã®ã‚ãŸã‚Šã«ã¯ã€è‚‰çœ¼ã§è¦‹ãˆã‚‹æœ€ã‚‚é ã„å¤©ä½“ã€Œã‚¢ãƒ³ãƒ‰ãƒ­ãƒ¡ãƒ€éŠ€æ²³ï¼ˆM31ï¼‰ã€ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®éŠ€æ²³ã¯ç§ãŸã¡ã®å¤©ã®å·éŠ€æ²³ã®ãŠéš£ã•ã‚“ã§ã€ç´„250ä¸‡å…‰å¹´ã®å½¼æ–¹ã«ã‚ã‚Šã¾ã™ãŒã€ç©ºã®æš—ã„å ´æ‰€ã§ã¯ã¼ã‚“ã‚„ã‚Šã¨ã—ãŸå…‰ã®é›²ã¨ã—ã¦è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚", 
        desc_en: "[Galaxy Window] Home to the Andromeda Galaxy (M31), the farthest object visible to the naked eye at 2.5 million light-years.",
        myth: "ã‚«ã‚·ã‚ªãƒšãƒ¤ç‹å¦ƒã®å¨˜ã§ã™ã€‚æ¯ã®è‡ªæ…¢ã®ã›ã„ã§ç”Ÿè´„ã¨ã—ã¦æµ·å²¸ã®å²©ã«é–ã§ç¹‹ãŒã‚Œã¾ã—ãŸãŒã€æ€ªç‰©ãã˜ã‚‰ã«è¥²ã‚ã‚Œã‚‹å¯¸å‰ã€ãƒšã‚¬ã‚¹ã‚¹ã«ä¹—ã£ãŸè‹±é›„ãƒšãƒ«ã‚»ã‚¦ã‚¹ã«ã‚ˆã£ã¦æ•‘å‡ºã•ã‚Œã€å½¼ã®å¦»ã¨ãªã‚Šã¾ã—ãŸã€‚", 
        myth_en: "The princess chained to a rock as a sacrifice but saved by the hero Perseus.",
        centerRA: 0.7, centerDec: 38.0, 
        lines: ["Alpheratz","Mirach", "Mirach","Almach"] 
    },

    // --- 3. PEGASUS (ãƒšã‚¬ã‚¹ã‚¹åº§) ---
    { 
        id: "peg", rank: 2, name: "ãƒšã‚¬ã‚¹ã‚¹åº§", en: "Pegasus", 
        desc: "ã€ç§‹ã®å››è¾ºå½¢ã€‘ç§‹ã®å¤œç©ºã®çœŸä¸Šã«ã€4ã¤ã®æ˜Ÿã§ä½œã‚‹å¤§ããªã€Œç§‹ã®å››è¾ºå½¢ã€ãŒç›®å°ã§ã™ã€‚ã“ã‚Œã¯å¤©é¦¬ã®èƒ´ä½“ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚å®Ÿã¯ã“ã®æ˜Ÿåº§ã¯ã€Œé€†ã•ã¾ã€ã«æã‹ã‚Œã¦ãŠã‚Šã€å››è¾ºå½¢ã‹ã‚‰é•·ãä¼¸ã³ã‚‹åˆ—ãŒé¦–ã¨é ­ã€åå¯¾å´ã«å‰è¶³ãŒã‚ã‚Šã¾ã™ã€‚å¾Œã‚è¶³ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚", 
        desc_en: "[Autumn Square] Identified by the Great Square of Pegasus. Depicted as a winged horse flying upside down.",
        myth: "è‹±é›„ãƒšãƒ«ã‚»ã‚¦ã‚¹ãŒãƒ¡ãƒ‰ã‚¥ãƒ¼ã‚µã®é¦–ã‚’åˆ‡ã£ãŸã¨ãã€ãã®è¡€ã‹ã‚‰é£›ã³å‡ºã—ãŸç¿¼ã®ã‚ã‚‹å¤©é¦¬ã§ã™ã€‚å¾Œã«è‹±é›„ãƒ™ãƒ¬ãƒ­ãƒ•ã‚©ãƒ³ã‚’ä¹—ã›ã¦æ€ªç‰©ã‚­ãƒã‚¤ãƒ©é€€æ²»ã«æ´»èºã—ã¾ã—ãŸãŒã€å¤©ã«æ˜‡ã‚ã†ã¨ã—ã¦ã‚¼ã‚¦ã‚¹ã®æ€’ã‚Šã‚’è²·ã„ã€ãƒ™ãƒ¬ãƒ­ãƒ•ã‚©ãƒ³ã‚’æŒ¯ã‚Šè½ã¨ã—ã¦ä¸€äººã§æ˜Ÿåº§ã«ãªã‚Šã¾ã—ãŸã€‚", 
        myth_en: "The winged horse born from Medusa's blood. It carried Bellerophon but later threw him off to ascend to the stars alone.",
        centerRA: 23.0, centerDec: 20.0, 
        lines: ["Markab","Scheat", "Scheat","Alpheratz", "Alpheratz","Algenib", "Algenib","Markab", "Markab","Enif"] 
    },

    // --- 4. CYGNUS (ã¯ãã¡ã‚‡ã†åº§) ---
    { 
        id: "cyg", rank: 2, name: "ã¯ãã¡ã‚‡ã†åº§", en: "Cygnus", 
        desc: "ã€åŒ—åå­—ã€‘å¤©ã®å·ã®ä¸Šã‚’é£›ã¶å¤§ããªåå­—æ¶ã®å½¢ã‹ã‚‰ã€ŒåŒ—åå­—ï¼ˆãƒãƒ¼ã‚¶ãƒ³ãƒ»ã‚¯ãƒ­ã‚¹ï¼‰ã€ã¨å‘¼ã°ã‚Œã¾ã™ã€‚å°¾ç¾½ã®1ç­‰æ˜Ÿãƒ‡ãƒãƒ–ã¯å¤ã®å¤§ä¸‰è§’ã®ä¸€è§’ã§ã™ã€‚ãã¡ã°ã—ã®æ˜Ÿã€Œã‚¢ãƒ«ãƒ“ãƒ¬ã‚ªã€ã¯ã€æœ›é é¡ã§è¦‹ã‚‹ã¨ã‚ªãƒ¬ãƒ³ã‚¸ã¨é’ã®å®çŸ³ã®ã‚ˆã†ãªå¯¾æ¯”ãŒç¾ã—ã„ã€å…¨å¤©ã§æœ€ã‚‚ç¾ã—ã„äºŒé‡æ˜Ÿã®ä¸€ã¤ã§ã™ã€‚", 
        desc_en: "[Northern Cross] A large cross flying along the Milky Way. Albireo is a stunning gold and blue double star.",
        myth: "å¤§ç¥ã‚¼ã‚¦ã‚¹ãŒã€ã‚¹ãƒ‘ãƒ«ã‚¿ã®ç‹å¦ƒãƒ¬ãƒ€ã«æ‹ã‚’ã—ã€å½¼å¥³ã«è¿‘ã¥ããŸã‚ã«åŒ–ã‘ãŸç™½é³¥ã®å§¿ã§ã™ã€‚ã“ã®ç™½é³¥ãŒç”£ã‚“ã åµã‹ã‚‰ã€ãµãŸã”åº§ã®ã‚«ã‚¹ãƒˆãƒ«ã¨ãƒãƒ«ãƒƒã‚¯ã‚¹ã€ãã—ã¦ãƒ˜ãƒ¬ãƒãŒç”Ÿã¾ã‚ŒãŸã¨è¨€ã‚ã‚Œã¦ã„ã¾ã™ã€‚ã¾ãŸã€è¦ªå‹ã‚’å¤±ã£ãŸãƒ‘ã‚¨ãƒˆãƒ³ã®å˜†ãã®å§¿ã¨ã‚‚è¨€ã‚ã‚Œã¾ã™ã€‚", 
        myth_en: "Zeus disguised as a swan to visit Leda. Also associated with Phaethon's grieving friend.",
        centerRA: 20.5, centerDec: 42.0, 
        lines: ["Deneb","Sadr", "Sadr","Albireo", "Sadr","Gienah", "Sadr","Delta Cyg"] 
    },

    // --- 5. URSA MINOR (ã“ãã¾åº§) ---
    { 
        id: "umi", rank: 2, name: "ã“ãã¾åº§", en: "Ursa Minor", 
        desc: "ã€ä¸å‹•ã®æ˜Ÿã€‘æŸ„ã®å…ˆã«ã‚ã‚‹ã®ãŒç¾åœ¨ã®åŒ—æ¥µæ˜Ÿã€Œãƒãƒ©ãƒªã‚¹ã€ã§ã™ã€‚åœ°çƒã®åœ°è»¸ã®å»¶é•·ç·šä¸Šã«ã‚ã‚‹ãŸã‚ã€ä»–ã®æ˜ŸãŒå‹•ã„ã¦ã‚‚ã“ã®æ˜Ÿã ã‘ã¯ã»ã¨ã‚“ã©å‹•ãã¾ã›ã‚“ã€‚ãŠãŠãã¾åº§ï¼ˆåŒ—æ–—ä¸ƒæ˜Ÿï¼‰ã¨ã‚ˆãä¼¼ãŸã€Œå°ã²ã—ã‚ƒãã€ã®å½¢ã‚’ã—ã¦ã„ã¾ã™ãŒã€ãƒãƒ©ãƒªã‚¹ä»¥å¤–ã¯æš—ã„æ˜ŸãŒå¤šã„ã§ã™ã€‚", 
        desc_en: "[The Fixed Star] Home to Polaris, the North Star. Resembles a 'Little Dipper'.",
        myth: "ãŠãŠãã¾åº§ã«ãªã£ãŸã‚«ãƒªã‚¹ãƒˆã®æ¯å­ã€ã‚¢ãƒ«ã‚«ã‚¹ã®å§¿ã§ã™ã€‚ç‹©ã‚Šã®æœ€ä¸­ã«ç†Šï¼ˆæ¯ï¼‰ã‚’å°„æ®ºã—ãã†ã«ãªã‚Šã¾ã—ãŸãŒã€ã‚¼ã‚¦ã‚¹ãŒãã‚Œã‚’æ­¢ã‚ã‚‹ãŸã‚ã«å½¼ã‚‚ç†Šã«å¤‰ãˆã€æ¯ã¨å…±ã«ç©ºã«ä¸Šã’ã¾ã—ãŸã€‚é•·ã„å°»å°¾ã¯ã€ã‚¼ã‚¦ã‚¹ãŒå½¼ã‚‰ã‚’å¤©ã«æ”¾ã‚ŠæŠ•ã’ãŸæ™‚ã«ä¼¸ã³ã¦ã—ã¾ã£ãŸã¨è¨€ã‚ã‚Œã¦ã„ã¾ã™ã€‚", 
        myth_en: "Arcas, son of Callisto. Transformed into a bear by Zeus to prevent him from killing his mother (Ursa Major).",
        centerRA: 15.0, centerDec: 75.0, 
        lines: ["Polaris","Yildun", "Yildun","Zeta UMi", "Zeta UMi","Eta UMi", "Eta UMi","Pherkad", "Pherkad","Kochab", "Kochab","Zeta UMi"] 
    },

    // --- 6. LYRA (ã“ã¨åº§) ---
    { 
        id: "lyr", rank: 2, name: "ã“ã¨åº§", en: "Lyra", 
        desc: "ã€ä¸ƒå¤•ã®æ˜Ÿã€‘æ˜ã‚‹ã„0ç­‰æ˜Ÿãƒ™ã‚¬ï¼ˆç¹”å§«æ˜Ÿï¼‰ã¨ã€å°ã•ãªå¹³è¡Œå››è¾ºå½¢ãŒç‰¹å¾´ã§ã™ã€‚ãƒ™ã‚¬ã¯å…¨å¤©ã§5ç•ªç›®ã«æ˜ã‚‹ã„æ˜Ÿã§ã€å¤ã®å¤§ä¸‰è§’ã®ä¸€ã¤ã§ã™ã€‚ã“ã®æ˜Ÿåº§ã«ã‚ã‚‹ã€Œç’°çŠ¶æ˜Ÿé›²ï¼ˆM57ï¼‰ã€ã¯ã€æ˜ŸãŒå¯¿å‘½ã‚’çµ‚ãˆãŸå¾Œã«ã‚¬ã‚¹ã‚’æ”¾å‡ºã—ã¦ã§ããŸã€ãƒ‰ãƒ¼ãƒŠãƒ„ã®ã‚ˆã†ãªç¾ã—ã„å§¿ã‚’ã—ã¦ã„ã¾ã™ã€‚", 
        desc_en: "[The Harp] Features the bright star Vega. Contains the Ring Nebula (M57), a dying star's remnants.",
        myth: "ã‚®ãƒªã‚·ãƒ£ç¥è©±ã®éŸ³æ¥½å®¶ã‚ªãƒ«ãƒ•ã‚§ã‚¦ã‚¹ãŒå¥ã§ãŸç«ªç´ã§ã™ã€‚å½¼ãŒã“ã®ç´ã‚’å¼¾ãã¨ã€äººé–“ã ã‘ã§ãªãå‹•ç‰©ã‚„è‰æœ¨ã€å²©ã¾ã§ã‚‚ãŒèãæƒšã‚ŒãŸã¨è¨€ã‚ã‚Œã¾ã™ã€‚æ„›ã™ã‚‹å¦»ã‚¨ã‚¦ãƒªãƒ¥ãƒ‡ã‚£ã‚±ã‚’å†¥ç•Œã‹ã‚‰é€£ã‚Œæˆ»ãã†ã¨ã—ãŸæ‚²åŠ‡ã®ç‰©èªã§çŸ¥ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚", 
        myth_en: "The lyre of Orpheus, whose music charmed all of nature. Placed in the sky after his tragic death.",
        centerRA: 18.8, centerDec: 36.0, 
        lines: ["Vega","Sheliak", "Sheliak","Sulafat", "Sulafat","Delta Lyr", "Delta Lyr","Vega"] 
    },

    // --- 7. AQUILA (ã‚ã—åº§) ---
    { 
        id: "aql", rank: 2, name: "ã‚ã—åº§", en: "Aquila", 
        desc: "ã€é£›ç¿”ã™ã‚‹é·²ã€‘å¤©ã®å·ã‚’æŒŸã‚“ã§ã“ã¨åº§ã®åå¯¾å´ã«ä½ç½®ã—ã¾ã™ã€‚1ç­‰æ˜Ÿã‚¢ãƒ«ã‚¿ã‚¤ãƒ«ï¼ˆå½¦æ˜Ÿï¼‰ã‚’æŒŸã‚“ã§ã€ä¸¡è„‡ã«2ã¤ã®æ˜Ÿï¼ˆã‚¿ãƒ©ã‚¼ãƒ‰ã¨ã‚¢ãƒ«ã‚·ãƒ£ã‚¤ãƒ³ï¼‰ãŒä¸¦ã‚“ã§ã„ã‚‹ã®ãŒç‰¹å¾´ã§ã™ã€‚ã“ã‚Œã‚’ã€Œã‚¤ãƒŒãƒ¯ã‚·ã®æ˜Ÿã€ã‚„ã€Œè¦ªãŠã„æ˜Ÿã€ã¨å‘¼ã¶åœ°åŸŸã‚‚ã‚ã‚Šã¾ã™ã€‚", 
        desc_en: "[The Eagle] Features Altair. Located across the Milky Way from Lyra. The three stars in a row are distinctive.",
        myth: "å¤§ç¥ã‚¼ã‚¦ã‚¹ãŒå¤‰èº«ã—ãŸé»’ã„é·²ã€ã‚ã‚‹ã„ã¯ã‚¼ã‚¦ã‚¹ã®é›·ã‚’æŒã¤é·²ã®å§¿ã§ã™ã€‚ç¾å°‘å¹´ã‚¬ãƒ‹ãƒ¥ãƒ¡ãƒ‡ã‚¹ã‚’è¦‹åˆã‚ãŸã‚¼ã‚¦ã‚¹ãŒã€å½¼ã‚’å¤©ç•Œã¸é€£ã‚Œå»ã‚‹ãŸã‚ã«é£ã‚ã—ãŸé·²ã ã¨ã‚‚è¨€ã‚ã‚Œã¦ã„ã¾ã™ã€‚", 
        myth_en: "The eagle that carries Zeus's thunderbolts. Also the eagle that kidnapped Ganymede.",
        centerRA: 19.8, centerDec: 3.0, 
        lines: ["Altair","Tarazed", "Altair","Alshain", "Altair","Delta Aql", "Delta Aql","Zeta Aql"] 
    },

    // --- 8. PERSEUS (ãƒšãƒ«ã‚»ã‚¦ã‚¹åº§) ---
    { 
        id: "per", rank: 2, name: "ãƒšãƒ«ã‚»ã‚¦ã‚¹åº§", en: "Perseus", 
        desc: "ã€æ‚ªé­”ã®æ˜Ÿã€‘ç§‹ã®å¤©ã®å·ã®ä¸­ã«ã‚ã‚Šã€æ¼¢å­—ã®ã€Œäººã€ã®ã‚ˆã†ãªå½¢ã«æ˜ŸãŒä¸¦ã‚“ã§ã„ã¾ã™ã€‚æ³¨ç›®ã™ã¹ãã¯ã€Œã‚¢ãƒ«ã‚´ãƒ«ã€ã¨ã„ã†æ˜Ÿã§ã€ã“ã‚Œã¯ã€Œæ‚ªé­”ã®é ­ã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚ç´„2.87æ—¥ã”ã¨ã«æ˜ã‚‹ã•ãŒå¤‰ã‚ã‚‹ã€Œé£Ÿå¤‰å…‰æ˜Ÿã€ã§ã€æ€ªç‰©ãƒ¡ãƒ‰ã‚¥ãƒ¼ã‚µã®ä¸æ°—å‘³ã«å…‰ã‚‹ç›®ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚", 
        desc_en: "[The Hero] Features Algol, the 'Demon Star', an eclipsing binary that dims every 2.87 days.",
        myth: "æ€ªç‰©ãƒ¡ãƒ‰ã‚¥ãƒ¼ã‚µã‚’é€€æ²»ã—ã€é–ã«ç¹‹ãŒã‚ŒãŸã‚¢ãƒ³ãƒ‰ãƒ­ãƒ¡ãƒ€å§«ã‚’æ•‘ã£ãŸè‹±é›„ãƒšãƒ«ã‚»ã‚¦ã‚¹ã®å§¿ã§ã™ã€‚å³æ‰‹ã«å‰£ã€å·¦æ‰‹ã«åˆ‡ã‚Šè½ã¨ã—ãŸãƒ¡ãƒ‰ã‚¥ãƒ¼ã‚µã®é¦–ã‚’æŒã£ã¦ã„ã¾ã™ã€‚ãã®é¦–ï¼ˆã‚¢ãƒ«ã‚´ãƒ«ï¼‰ã¯ã€è¦‹ãŸã‚‚ã®ã‚’çŸ³ã«å¤‰ãˆã‚‹åŠ›ã‚’æŒã£ã¦ã„ã¾ã™ã€‚", 
        myth_en: "The hero who slew Medusa and saved Andromeda. He holds Medusa's head, represented by the star Algol.",
        centerRA: 3.5, centerDec: 45.0, 
        lines: ["Mirfak","Gamma Per", "Mirfak","Delta Per", "Mirfak","Algol"] 
    },

    // --- 9. OPHIUCHUS (ã¸ã³ã¤ã‹ã„åº§) ---
    { 
        id: "oph", rank: 2, name: "ã¸ã³ã¤ã‹ã„åº§", en: "Ophiuchus", 
        desc: "ã€é»„é“13æ˜Ÿåº§ã€‘å°†æ£‹ã®é§’ã®ã‚ˆã†ãªå·¨å¤§ãªäº”è§’å½¢ãŒç‰¹å¾´ã§ã€ä¸¡æ‰‹ã§é•·ã„ã€Œã¸ã³åº§ã€ã‚’æ´ã‚“ã§ã„ã¾ã™ã€‚å¤©æ–‡å­¦ä¸Šã®ã€Œé»„é“ï¼ˆå¤ªé™½ã®é€šã‚Šé“ï¼‰ã€ãŒé€šã£ã¦ã„ã‚‹ãŸã‚ã€æ˜Ÿå ã„ã§ã¯13ç•ªç›®ã®æ˜Ÿåº§ã¨ã—ã¦æ•°ãˆã‚‰ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚å¤ã«å—ã®ç©ºå¤§ããåºƒãŒã£ã¦ã„ã¾ã™ã€‚", 
        desc_en: "[Serpent Bearer] A large constellation holding Serpens. The 13th constellation of the Zodiac.",
        myth: "ã‚¢ãƒãƒ­ãƒ³ã®å­ã§ã€æ­»è€…ã‚’ã‚‚ç”Ÿãè¿”ã‚‰ã›ã‚‹ã»ã©ã®ååŒ»ã‚¢ã‚¹ã‚¯ãƒ¬ãƒ”ã‚ªã‚¹ã§ã™ã€‚ã—ã‹ã—ã€æ­»è€…ãŒæ¸›ã£ã¦å›°ã£ãŸå†¥ç•Œã®ç‹ãƒãƒ‡ã‚¹ã®è¨´ãˆã«ã‚ˆã‚Šã€ã‚¼ã‚¦ã‚¹ã®é›·ã«æ‰“ãŸã‚Œã¦å‘½ã‚’è½ã¨ã—ã¾ã—ãŸã€‚ãã®åŠŸç¸¾ã‚’ç§°ãˆã¦æ˜Ÿåº§ã«ãªã‚Šã¾ã—ãŸã€‚", 
        myth_en: "Asclepius, the god of medicine. He was killed by Zeus for bringing the dead back to life.",
        centerRA: 17.0, centerDec: -5.0, 
        lines: ["Rasalhague","Cebalrai", "Cebalrai","Yed Prior", "Yed Prior","Zeta Oph", "Zeta Oph","Sabik", "Sabik","Rasalhague"] 
    },

    // --- 10. PISCIS AUSTRINUS (ã¿ãªã¿ã®ã†ãŠåº§) ---
    { 
        id: "psa", rank: 2, name: "ã¿ãªã¿ã®ã†ãŠåº§", en: "Piscis Austrinus", 
        desc: "ã€ç§‹ã®ã²ã¨ã¤æ˜Ÿã€‘ç§‹ã®å—ç©ºã§å”¯ä¸€ã®1ç­‰æ˜Ÿã€Œãƒ•ã‚©ãƒ¼ãƒãƒ«ãƒã‚¦ãƒˆã€ãŒè¼ãã¾ã™ã€‚ã¿ãšãŒã‚åº§ã‹ã‚‰æµã‚Œã‚‹æ°´ã‚’å—ã‘æ­¢ã‚ã‚‹é­šã®å§¿ã§ã™ã€‚ã“ã®æ˜Ÿã¯ã€å²ä¸Šåˆã‚ã¦ã€Œå¤ªé™½ç³»å¤–æƒ‘æ˜Ÿã€ãŒå¯è¦–å…‰å†™çœŸã§æ’®å½±ã•ã‚ŒãŸå ´æ‰€ã¨ã—ã¦ã‚‚æœ‰åã§ã€ãã®å‘¨å›²ã®å¡µã®ãƒªãƒ³ã‚°ã¯æ˜ ç”»ã€ãƒ­ãƒ¼ãƒ‰ãƒ»ã‚ªãƒ–ãƒ»ã‚¶ãƒ»ãƒªãƒ³ã‚°ã€ã®ã€Œã‚µã‚¦ãƒ­ãƒ³ã®ç›®ã€ã«ã‚‚ä¾‹ãˆã‚‰ã‚Œã¾ã™ã€‚", 
        desc_en: "[Southern Fish] Features Fomalhaut. Known for the first visible light image of an exoplanet and its 'Eye of Sauron' dust ring.",
        myth: "æ„›ã¨ç¾ã®å¥³ç¥ã‚¢ãƒ•ãƒ­ãƒ‡ã‚£ãƒ¼ãƒ†ãŒã€æ€ªç‰©ãƒ†ãƒ¥ãƒãƒ³ã‹ã‚‰é€ƒã’ã‚‹ãŸã‚ã«å¤‰èº«ã—ãŸé­šã®å§¿ã¨ã‚‚è¨€ã‚ã‚Œã¾ã™ï¼ˆã†ãŠåº§ã®ç¥è©±ã¨é–¢é€£ï¼‰ã€‚å¤ä»£æ–‡æ˜ã§ã¯å†¬è‡³ã®é ƒã®ä½ç½®ã‚’çŸ¥ã‚‹ãŸã‚ã®é‡è¦ãªæ˜Ÿã§ã—ãŸã€‚", 
        myth_en: "A fish drinking the water poured by Aquarius. Sometimes associated with Aphrodite's transformation.",
        centerRA: 23.0, centerDec: -30.0, 
        lines: ["Fomalhaut"] 
    },

    // --- 11. CORONA BOREALIS (ã‹ã‚“ã‚€ã‚Šåº§) ---
    { 
        id: "crb", rank: 2, name: "ã‹ã‚“ã‚€ã‚Šåº§", en: "Corona Borealis", 
        desc: "ã€åŒ—ã®ç‹å† ã€‘7ã¤ã®æ˜ŸãŒç¶ºéº—ãªåŠå††å½¢ï¼ˆï¼µå­—å‹ï¼‰ã«ä¸¦ã‚“ã ã€ã¨ã¦ã‚‚ç¾ã—ã„æ˜Ÿåº§ã§ã™ã€‚å°ã¶ã‚Šã§ã™ãŒå½¢ãŒæ•´ã£ã¦ã„ã‚‹ãŸã‚ã€ä¸€åº¦è¦‹ã¤ã‘ã‚‹ã¨å¿˜ã‚Œã‚‰ã‚Œãªã„é­…åŠ›ãŒã‚ã‚Šã¾ã™ã€‚ä¸­å¤®ã§è¼ã2ç­‰æ˜Ÿã‚¢ãƒ«ãƒ•ã‚§ãƒƒã‚«ã¯ã€Œæ¬ ã‘ãŸã‚‚ã®ã®æ˜æ˜Ÿã€ã¨ã„ã†æ„å‘³ã§ã€å®çŸ³ã®ã‚ˆã†ã«è¼ã„ã¦ã„ã¾ã™ã€‚", 
        desc_en: "[Northern Crown] A beautiful semi-circle of stars. The jewel in the crown is the star Alphecca.",
        myth: "ã‚¯ãƒ¬ã‚¿å³¶ã®ç‹å¥³ã‚¢ãƒªã‚¢ãƒ‰ãƒãŒã€é…’ã®ç¥ãƒ‡ã‚£ã‚ªãƒ‹ãƒ¥ã‚½ã‚¹ã‹ã‚‰è´ˆã‚‰ã‚ŒãŸ7ã¤ã®å®çŸ³ã§ã§ããŸå† ã§ã™ã€‚å½¼å¥³ãŒäº¡ããªã£ãŸå¾Œã€ãƒ‡ã‚£ã‚ªãƒ‹ãƒ¥ã‚½ã‚¹ãŒç©ºã«æŠ•ã’ã¦æ˜Ÿåº§ã«ã—ãŸã¨è¨€ã‚ã‚Œã¦ã„ã¾ã™ã€‚", 
        myth_en: "The crown given to Ariadne by Dionysus. Placed in the sky after her death.",
        centerRA: 15.5, centerDec: 27.0, 
        lines: ["Alphecca","Nusakan"] 
    },

    // --- 12. DELPHINUS (ã„ã‚‹ã‹åº§) ---
    { 
        id: "del", rank: 2, name: "ã„ã‚‹ã‹åº§", en: "Delphinus", 
        desc: "ã€å¤ã®ã²ã—å½¢ã€‘å¤ã®å¤§ä¸‰è§’ã®è¿‘ãã«ã‚ã‚‹ã€å°ã•ãªã²ã—å½¢ã¨ä¸€æœ¬ã®å°»å°¾ã§ã§ããŸæ˜Ÿåº§ã§ã™ã€‚æš—ã„æ˜Ÿã°ã‹ã‚Šã§ã™ãŒã€å¯†é›†ã—ã¦ã„ã‚‹ãŸã‚è¦‹ã¤ã‘ã‚„ã™ãã€ãã®æ„›ã‚‰ã—ã„å§¿ã‹ã‚‰å­ä¾›ãŸã¡ã‚„å¤©æ–‡ãƒ•ã‚¡ãƒ³ã«ã¨ã¦ã‚‚äººæ°—ãŒã‚ã‚Šã¾ã™ã€‚", 
        desc_en: "[The Dolphin] A small, cute diamond shape with a tail near the Summer Triangle. Popular for its distinct shape.",
        myth: "æµ·ã®ç‹ãƒã‚»ã‚¤ãƒ‰ãƒ³ãŒã€æµ·ã®å¥³ç¥ã‚¢ãƒ³ãƒ•ã‚£ãƒˆãƒªãƒ†ã«æ±‚å©šã—ãŸéš›ã€é€ƒã’å›ã‚‹å½¼å¥³ã‚’è¦‹ã¤ã‘ã¦èª¬å¾—ã—ã€çµå©šã‚’å–ã‚ŠæŒã£ãŸè³¢ã„ã‚¤ãƒ«ã‚«ã§ã™ã€‚ãã®åŠŸç¸¾ã§ç©ºã«ä¸Šã’ã‚‰ã‚Œã¾ã—ãŸã€‚", 
        myth_en: "The dolphin that helped Poseidon woo Amphitrite. Rewarded with a place in the stars.",
        centerRA: 20.7, centerDec: 15.0, 
        lines: ["Sualocin","Rotanev", "Rotanev","Gamma Del", "Gamma Del","Delta Del", "Delta Del","Sualocin"] 
    },

    // --- ğŸ¦ MINOR CONSTELLATIONS ---
    // --- 1. LEPUS (ã†ã•ãåº§) ---
    { 
        id: "lep", rank: 3, name: "ã†ã•ãåº§", en: "Lepus", 
        desc: "ã€ã‚ªãƒªã‚ªãƒ³ã®ç²ç‰©ã€‘ç‹©äººã‚ªãƒªã‚ªãƒ³ã®è¶³å…ƒã§ã€ã†ãšãã¾ã£ã¦ã„ã‚‹ã‚ˆã†ãªå½¢ã®æ˜Ÿåº§ã§ã™ã€‚ã‚ªãƒªã‚ªãƒ³ãŒé€£ã‚Œã¦ã„ã‚‹ãŠãŠã„ã¬åº§ã®æ–¹å‘ã‹ã‚‰é€ƒã’ã‚‹ã‚ˆã†ã«è¥¿ã¸æ²ˆã‚“ã§ã„ãã¾ã™ã€‚ç›®ç«‹ã¤æ˜Ÿã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€Î±æ˜Ÿã‚¢ãƒ¼ãƒãƒ–ã¯ã‚¢ãƒ©ãƒ“ã‚¢èªã§ãã®ã¾ã¾ã€Œã‚¦ã‚µã‚®ã€ã‚’æ„å‘³ã—ã¾ã™ã€‚", 
        desc_en: "[The Hare] Located at Orion's feet. Being chased by Canis Major. The star Arneb means 'Hare' in Arabic.",
        myth: "ç‰¹ã«å¤§ããªç¥è©±ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€ç‹©ã‚Šã‚’å¥½ã‚“ã ã‚ªãƒªã‚ªãƒ³ã®ç²ç‰©ã¨ã—ã¦é…ç½®ã•ã‚ŒãŸã¨è¨€ã‚ã‚Œã¦ã„ã¾ã™ã€‚ã¾ãŸã€ã‚¦ã‚µã‚®ã¯å¤šç”£ã§ã‚ã‚‹ã“ã¨ã‹ã‚‰ã€ç”Ÿå‘½ã®ã‚·ãƒ³ãƒœãƒ«ã¨ã—ã¦ç©ºã«ä¸Šã’ã‚‰ã‚ŒãŸã¨ã„ã†èª¬ã‚‚ã‚ã‚Šã¾ã™ã€‚", 
        myth_en: "Placed at the feet of Orion the Hunter. A symbol of fertility or simply Orion's prey.",
        centerRA: 5.5, centerDec: -20.0, 
        lines: ["Arneb", "Nihal", "Nihal", "Epsilon Lep", "Epsilon Lep", "Mu Lep", "Mu Lep", "Arneb"] 
    },

    // --- 2. CANCER (ã‹ã«åº§) ---
    { 
        id: "cnc", rank: 3, name: "ã‹ã«åº§", en: "Cancer", 
        desc: "ã€ãƒ—ãƒ¬ã‚»ãƒšæ˜Ÿå›£ã€‘é»„é“åäºŒæ˜Ÿåº§ã®ä¸€ã¤ã§ã™ãŒã€æ˜ã‚‹ã„æ˜ŸãŒãªãç›®ç«‹ã¡ã¾ã›ã‚“ã€‚ã—ã‹ã—ã€ä¸­å¿ƒã«ã¯è‚‰çœ¼ã§ã‚‚ã¼ã‚“ã‚„ã‚Šã¨é›²ã®ã‚ˆã†ã«è¦‹ãˆã‚‹ã€Œãƒ—ãƒ¬ã‚»ãƒšæ˜Ÿå›£ï¼ˆM44ï¼‰ã€ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯ã€Œé£¼ã„è‘‰æ¡¶ã€ã¨ã„ã†æ„å‘³ã§ã€ãã®å‘¨ã‚Šã®æ˜Ÿã‚’ãƒ­ãƒã«è¦‹ç«‹ã¦ã¦ã„ã¾ã™ã€‚", 
        desc_en: "[The Crab] Faint constellation but home to the Beehive Cluster (M44), visible to the naked eye as a fuzzy patch.",
        myth: "è‹±é›„ãƒ˜ãƒ©ã‚¯ãƒ¬ã‚¹ãŒãƒ’ãƒ‰ãƒ©ã¨æˆ¦ã£ã¦ã„ã‚‹ã¨ãã€ãƒ’ãƒ‰ãƒ©ã«åŠ å‹¢ã—ã‚ˆã†ã¨ã—ã¦ãƒ˜ãƒ©ã‚¯ãƒ¬ã‚¹ã®è¶³ã‚’æŒŸã‚“ã å·¨å¤§ã‚¬ãƒ‹ã§ã™ã€‚ã—ã‹ã—ã€ã‚ã£ã‘ãªãè¸ã¿æ½°ã•ã‚Œã¦ã—ã¾ã„ã¾ã—ãŸã€‚å¥³ç¥ãƒ˜ãƒ©ãŒãã®å‹‡æ°—ã‚’ç§°ãˆã¦æ˜Ÿåº§ã«ã—ãŸã¨è¨€ã‚ã‚Œã¦ã„ã¾ã™ã€‚", 
        myth_en: "The giant crab that pinched Hercules' foot while he fought the Hydra. Crushed by the hero but honored by Hera.",
        centerRA: 8.5, centerDec: 20.0, 
        lines: ["Acubens","Altarf", "Asellus Australis","Asellus Borealis", "Asellus Australis","Acubens"] 
    },

    // --- 3. LIBRA (ã¦ã‚“ã³ã‚“åº§) ---
    { 
        id: "lib", rank: 3, name: "ã¦ã‚“ã³ã‚“åº§", en: "Libra", 
        desc: "ã€æ­£ç¾©ã®å¤©ç§¤ã€‘ãŠã¨ã‚åº§ã¨ã•ãã‚Šåº§ã®é–“ã«ã‚ã‚Šã€ã€Œãã€ã®å­—ã‚’è£è¿”ã—ãŸã‚ˆã†ãªå››è§’å½¢ãŒç‰¹å¾´ã§ã™ã€‚ã‹ã¤ã¦ã¯ã•ãã‚Šåº§ã®ã€Œçˆªã€ã®éƒ¨åˆ†ã§ã—ãŸãŒã€ç‹¬ç«‹ã—ã¦å¤©ç§¤åº§ã«ãªã‚Šã¾ã—ãŸã€‚æ˜Ÿã®åå‰ï¼ˆã‚ºãƒ™ãƒ³ãƒ»ã‚¨ã‚¹ãƒ»ã‚«ãƒãƒªï¼åŒ—ã®çˆªï¼‰ãªã©ã«ãã®åæ®‹ãŒã‚ã‚Šã¾ã™ã€‚", 
        desc_en: "[The Scales] Located between Virgo and Scorpius. Originally the claws of the Scorpion. Represents balance and justice.",
        myth: "æ­£ç¾©ã®å¥³ç¥ã‚¢ã‚¹ãƒˆãƒ©ã‚¤ã‚¢ï¼ˆãŠã¨ã‚åº§ï¼‰ãŒæŒã£ã¦ã„ã‚‹å¤©ç§¤ã§ã™ã€‚äººé–“ã®å–„æ‚ªã‚’æ¸¬ã‚‹é“å…·ã§ã€æ‚ªãŒã¯ã³ã“ã‚‹åœ°ä¸Šã‚’å¥³ç¥ãŒå»ã£ãŸå¾Œã‚‚ã€æ­£ç¾©ã®è±¡å¾´ã¨ã—ã¦ç©ºã«æ®‹ã•ã‚Œã¾ã—ãŸã€‚", 
        myth_en: "The scales held by Astraea (Virgo), the goddess of justice, used to weigh good and evil.",
        centerRA: 15.0, centerDec: -15.0, 
        lines: ["Zubenelgenubi","Zubeneschamali", "Zubenelgenubi","Brachium", "Zubeneschamali","Brachium"] 
    },

    // --- 4. CAPRICORNUS (ã‚„ãåº§) ---
    { 
        id: "cap", rank: 3, name: "ã‚„ãåº§", en: "Capricornus", 
        desc: "ã€æµ·ã‚„ãã€‘ç§‹ã®å—ã®ç©ºã«æµ®ã‹ã¶ã€å¤§ããªé€†ä¸‰è§’å½¢ï¼ˆãƒ‘ãƒ³ãƒ„ã®ã‚ˆã†ãªå½¢ï¼‰ãŒç›®å°ã§ã™ã€‚ä¸ŠåŠèº«ãŒãƒ¤ã‚®ã€ä¸‹åŠèº«ãŒé­šã¨ã„ã†ä¸æ€è­°ãªå§¿ã‚’ã—ã¦ã„ã¾ã™ã€‚çƒçŠ¶æ˜Ÿå›£M30ãªã©ã‚’å«ã‚“ã§ã„ã¾ã™ãŒã€å…¨ä½“çš„ã«æš—ã„æ˜Ÿã§æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ã€‚", 
        desc_en: "[Sea Goat] A large inverted triangle shape. Depicted as a creature with a goat's head and a fish's tail.",
        myth: "ç‰§ç¥ãƒ‘ãƒ³ã®å§¿ã§ã™ã€‚ç¥ã€…ã®å®´ä¼šã§æ€ªç‰©ãƒ†ãƒ¥ãƒãƒ³ãŒç¾ã‚ŒãŸã¨ãã€æ…Œã¦ã¦å¤‰èº«ã—ã¦å·ã«é£›ã³è¾¼ã¿ã¾ã—ãŸãŒã€ãƒ‘ãƒ‹ãƒƒã‚¯ã«ãªã‚Šã™ãã¦æ°´ã«æµ¸ã‹ã£ãŸä¸‹åŠèº«ãŒé­šã€ä¸ŠåŠèº«ãŒãƒ¤ã‚®ã¨ã„ã†å§¿ã«ãªã£ã¦ã—ã¾ã„ã¾ã—ãŸã€‚ãã®å§¿ã‚’è¦‹ãŸã‚¼ã‚¦ã‚¹ãŒé¢ç™½ãŒã£ã¦æ˜Ÿåº§ã«ã—ã¾ã—ãŸã€‚", 
        myth_en: "The god Pan, who panicked and jumped into a river to escape Typhon, transforming only his lower half into a fish.",
        centerRA: 21.0, centerDec: -20.0, 
        lines: ["Algedi","Dabih", "Dabih","Nashira", "Nashira","Deneb Algedi", "Algedi","Deneb Algedi"] 
    },

    // --- 5. AQUARIUS (ã¿ãšãŒã‚åº§) ---
    { 
        id: "aqr", rank: 3, name: "ã¿ãšãŒã‚åº§", en: "Aquarius", 
        desc: "ã€ç¥ã®çµ¦ä»•ã€‘ç§‹ã®ç©ºã«åºƒãå±•é–‹ã™ã‚‹å¤§ããªæ˜Ÿåº§ã§ã™ã€‚ã€Œä¸‰ãƒ„çŸ¢ã€ãƒãƒ¼ã‚¯ã®ã‚ˆã†ãªæ˜Ÿã®ä¸¦ã³ï¼ˆæ°´ç“¶ï¼‰ã‹ã‚‰ã€ã¿ãªã¿ã®ã†ãŠåº§ã«å‘ã‹ã£ã¦æ°´ãŒæµã‚Œè½ã¡ã‚‹æ§˜å­ãŒæã‹ã‚Œã¦ã„ã¾ã™ã€‚å®ç“¶å®®ï¼ˆã»ã†ã¸ã„ãã‚…ã†ï¼‰ã¨ã‚‚å‘¼ã°ã‚Œã€å¹¸é‹ã‚’ã‚‚ãŸã‚‰ã™æ°´ã¨ã•ã‚Œã¦ã„ã¾ã™ã€‚", 
        desc_en: "[Water Bearer] A large constellation. Features a 'Y' shape (the jar) pouring water down to Piscis Austrinus.",
        myth: "ãƒˆãƒ­ã‚¤ã‚¢ã®ç‹å­ã‚¬ãƒ‹ãƒ¥ãƒ¡ãƒ‡ã‚¹ã®å§¿ã§ã™ã€‚ã‚ã¾ã‚Šã®ç¾ã—ã•ã«ã‚¼ã‚¦ã‚¹ãŒé·²ï¼ˆã‚ã—åº§ï¼‰ã‚’é£ã‚ã›ã¦å¤©ç•Œã«é€£ã‚Œå»ã‚Šã€ç¥ã€…ã®å®´ä¼šã§ä¸è€ä¸æ­»ã®é…’ãƒã‚¯ã‚¿ãƒ«ã‚’æ³¨ãçµ¦ä»•ä¿‚ã«ã—ã¾ã—ãŸã€‚å½¼ã¯ãã®å½¹å‰²ã‚’æ°¸é ã«æ‹…ã£ã¦ã„ã¾ã™ã€‚", 
        myth_en: "Ganymede, a beautiful Trojan prince kidnapped by Zeus to serve as the cupbearer to the gods.",
        centerRA: 22.0, centerDec: -10.0, 
        lines: ["Sadalmelik","Sadalsuud", "Sadalsuud","Eta Aqr", "Eta Aqr","Sadachbia", "Sadachbia","Skat"] 
    },

    // --- 6. PISCES (ã†ãŠåº§) ---
    { 
        id: "psc", rank: 3, name: "ã†ãŠåº§", en: "Pisces", 
        desc: "ã€äºŒåŒ¹ã®é­šã€‘ãƒšã‚¬ã‚¹ã‚¹åº§ã®å››è¾ºå½¢ã®å—ã¨æ±ã‚’å–ã‚Šå›²ã‚€ã‚ˆã†ã«ã€Vå­—å‹ã«ä¸¦ã‚“ã æ˜Ÿåº§ã§ã™ã€‚äºŒåŒ¹ã®é­šãŒãƒªãƒœãƒ³ã§çµã°ã‚ŒãŸå§¿ã‚’ã—ã¦ã„ã¾ã™ã€‚è¥¿ã®é­šã«ã‚ã‚‹ã€Œã‚µãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã€ã¨å‘¼ã°ã‚Œã‚‹äº”è§’å½¢ã®æ˜Ÿã®ä¸¦ã³ãŒæ¯”è¼ƒçš„è¦‹ã¤ã‘ã‚„ã™ã„ç›®å°ã§ã™ã€‚", 
        desc_en: "[The Fishes] Two fish tied together by a ribbon, forming a 'V' shape around Pegasus. Includes the 'Circlet' asterism.",
        myth: "ç¾ã®å¥³ç¥ã‚¢ãƒ•ãƒ­ãƒ‡ã‚£ãƒ¼ãƒ†ã¨ãã®å­ã‚¨ãƒ­ã‚¹ã§ã™ã€‚æ€ªç‰©ãƒ†ãƒ¥ãƒãƒ³ã«è¥²ã‚ã‚ŒãŸéš›ã€é­šã«å¤‰èº«ã—ã¦å·ã«é€ƒã’ã¾ã—ãŸã€‚ãã®ã¨ãã€ã¯ãã‚Œãªã„ã‚ˆã†ã«äº’ã„ã®ä½“ï¼ˆã¾ãŸã¯å°¾ï¼‰ã‚’ãƒªãƒœãƒ³ã§ã—ã£ã‹ã‚Šã¨çµã³åˆã„ã¾ã—ãŸã€‚", 
        myth_en: "Aphrodite and Eros, who turned into fish to escape Typhon, tying themselves together with a ribbon so they wouldn't part.",
        centerRA: 1.0, centerDec: 10.0, 
        lines: ["Alrescha","Alpherg", "Alrescha","Gamma Psc", "Gamma Psc","Omega Psc"] 
    },

    // --- 7. ARIES (ãŠã²ã¤ã˜åº§) ---
    { 
        id: "ari", rank: 3, name: "ãŠã²ã¤ã˜åº§", en: "Aries", 
        desc: "ã€é»„é‡‘ã®ç¾Šã€‘ã€Œã¸ã€ã®å­—å‹ã«ä¸¦ã‚“ã 3ã¤ã®æ˜ŸãŒç›®å°ã§ã™ã€‚é»„é“åäºŒæ˜Ÿåº§ã®æœ€åˆã®æ˜Ÿåº§ã§ã‚ã‚Šã€ã‹ã¤ã¦ã¯æ˜¥åˆ†ç‚¹ãŒã“ã®æ˜Ÿåº§ã«ã‚ã‚Šã¾ã—ãŸï¼ˆç¾åœ¨ã¯ã†ãŠåº§ã«ç§»å‹•ï¼‰ã€‚ä¸€ç•ªæ˜ã‚‹ã„ãƒãƒãƒ«ã¯2ç­‰æ˜Ÿã§ã€æ¯”è¼ƒçš„è¦‹ã¤ã‘ã‚„ã™ã„æ˜Ÿã§ã™ã€‚", 
        desc_en: "[The Ram] The first sign of the Zodiac. Marked by three stars forming a curve. Hamal is the brightest star.",
        myth: "ãƒœã‚¤ã‚ªãƒ†ã‚£ã‚¢ç‹ã®å­ä¾›ã€ãƒ•ãƒªã‚¯ã‚½ã‚¹ã¨ãƒ˜ãƒ¬ã‚’ç¶™æ¯ã®æ‚ªå·§ã¿ã‹ã‚‰æ•‘ã†ãŸã‚ã«ã€å¤§ç¥ã‚¼ã‚¦ã‚¹ãŒé£ã‚ã—ãŸç©ºã‚’é£›ã¶é‡‘è‰²ã®ç¾Šã§ã™ã€‚èƒŒä¸­ã«äºŒäººã‚’ä¹—ã›ã¦é€ƒã’ã¾ã—ãŸãŒã€å¦¹ã®ãƒ˜ãƒ¬ã¯é€”ä¸­ã§æµ·ã«è½ã¡ã¦ã—ã¾ã„ã¾ã—ãŸã€‚", 
        myth_en: "The flying golden ram sent by Zeus to save Phrixus and Helle. Phrixus sacrificed it and its Golden Fleece became a treasure.",
        centerRA: 2.0, centerDec: 20.0, 
        lines: ["Hamal","Sheratan", "Sheratan","Mesarthim"] 
    },

    // --- 8. CORVUS (ã‹ã‚‰ã™åº§) ---
    { 
        id: "crv", rank: 3, name: "ã‹ã‚‰ã™åº§", en: "Corvus", 
        desc: "ã€å¸†ã‹ã‘æ˜Ÿã€‘ãŠã¨ã‚åº§ã®ã‚¹ãƒ”ã‚«ã®éš£ã«ã‚ã‚‹ã€ã„ã³ã¤ãªå››è§’å½¢ãŒç‰¹å¾´ã§ã™ã€‚æ—¥æœ¬ã§ã¯ãã®å½¢ã‹ã‚‰ã€Œå¸†ã‹ã‘æ˜Ÿã€ã¨ã‚‚å‘¼ã°ã‚Œã€æ˜”ã®èˆ¹ä¹—ã‚ŠãŸã¡ãŒæ–¹è§’ã‚’çŸ¥ã‚‹ç›®å°ã«ã—ãŸã¨ã‚‚è¨€ã‚ã‚Œã¦ã„ã¾ã™ã€‚éŠ€æ²³ã®æ–¹å‘ã‹ã‚‰å¤–ã‚Œã¦ã„ã‚‹ãŸã‚ã€é ãã®éŠ€æ²³ã‚’è¦³æ¸¬ã™ã‚‹çª“ã«ã‚‚ãªã£ã¦ã„ã¾ã™ã€‚", 
        desc_en: "[The Crow] A distinct quadrilateral near Spica. Known as the 'Sail Star' in Japan.",
        myth: "å¤ªé™½ç¥ã‚¢ãƒãƒ­ãƒ³ã®ä½¿ã„ã®éŠ€è‰²ã®ã‚«ãƒ©ã‚¹ã§ã—ãŸã€‚ã—ã‹ã—ã€æ°´æ±²ã¿ã‚’é ¼ã¾ã‚ŒãŸéš›ã«é“è‰ã‚’é£Ÿã„ã€ãã‚Œã‚’éš ã™ãŸã‚ã«å˜˜ã‚’ã¤ã„ãŸãŸã‚ã€ã‚¢ãƒãƒ­ãƒ³ã®æ€’ã‚Šã‚’è²·ã£ã¦çœŸã£é»’ã«ç„¦ãŒã•ã‚Œã€è¨€è‘‰ã‚‚å¥ªã‚ã‚Œã¦ç©ºã«å¼µã‚Šä»˜ã‘ã‚‰ã‚Œã¾ã—ãŸã€‚", 
        myth_en: "Apollo's bird, turned black and banished to the sky for laziness and lying about fetching water.",
        centerRA: 12.5, centerDec: -20.0, 
        lines: ["Algorab","Kraz", "Kraz","Minkar", "Minkar","Gienah Corvi", "Gienah Corvi","Algorab"] 
    },

    // --- 9. COMA BERENICES (ã‹ã¿ã®ã‘åº§) ---
    { 
        id: "com", rank: 3, name: "ã‹ã¿ã®ã‘åº§", en: "Coma Berenices", 
        desc: "ã€ç‹å¦ƒã®é«ªã€‘ã—ã—åº§ã®å°»å°¾ã®ã‚ãŸã‚Šã«ã€ç´°ã‹ã„æ˜ŸãŒãƒãƒ©ãƒãƒ©ã¨æ•£ã‚‰ã°ã£ã¦ã„ã‚‹æ˜Ÿåº§ã§ã™ã€‚åŒçœ¼é¡ã§è¦‹ã‚‹ã¨ç¾ã—ã„æ•£é–‹æ˜Ÿå›£ï¼ˆMel 111ï¼‰ã§ã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚ã¾ãŸã€ã“ã®æ–¹å‘ã¯å¤©ã®å·ã®ã‚¬ã‚¹ãŒè–„ã„ãŸã‚ã€é ãã®éŠ€æ²³ã‚’è¦‹é€šã›ã‚‹ã€ŒéŠ€æ²³ã®çª“ã€ã¨ã—ã¦ã‚‚çŸ¥ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚", 
        desc_en: "[Berenice's Hair] A cluster of stars. Represents the hair of Queen Berenice II. Also known as a 'Window to the Galaxy'.",
        myth: "ã‚¨ã‚¸ãƒ—ãƒˆç‹å¦ƒãƒ™ãƒ¬ãƒ‹ã‚±ãŒã€å¤«ã®æˆ¦äº‰ã‹ã‚‰ã®ç„¡äº‹ã®å¸°é‚„ã‚’é¡˜ã„ã€ç¾ã®å¥³ç¥ã«æ§ã’ãŸç¾ã—ã„é«ªã®æ¯›ã§ã™ã€‚ç¿Œæ—¥ã€ç¥æ®¿ã‹ã‚‰é«ªãŒæ¶ˆãˆã¦ãŠã‚Šã€å®®å»·å¤©æ–‡å­¦è€…ãŒã€Œå¥³ç¥ãŒæ°—ã«å…¥ã£ã¦ç©ºã«é£¾ã£ãŸã®ã§ã™ã€ã¨ç‹ã‚’ãªã ã‚ãŸã¨ã„ã†é€¸è©±ãŒã‚ã‚Šã¾ã™ã€‚", 
        myth_en: "Queen Berenice II sacrificed her beautiful hair for her husband's safe return. It was placed among the stars by Aphrodite.",
        centerRA: 13.0, centerDec: 25.0, 
        lines: ["Diadem","Beta Com"] 
    },

    // --- 10. ERIDANUS (ã‚¨ãƒªãƒ€ãƒŒã‚¹åº§) ---
    { 
        id: "eri", rank: 3, name: "ã‚¨ãƒªãƒ€ãƒŒã‚¹åº§", en: "Eridanus", 
        desc: "ã€å¤©ã®å·ã€‘ã‚ªãƒªã‚ªãƒ³åº§ã®è¶³å…ƒã‹ã‚‰ã€ãã­ãã­ã¨è›‡è¡Œã—ãªãŒã‚‰å—ã®åœ°å¹³ç·šå½¼æ–¹ã¾ã§ç¶šãã€å…¨å¤©ã§6ç•ªç›®ã«å¤§ããªæ˜Ÿåº§ã§ã™ã€‚å·ã®æœã¦ã«ã‚ã‚‹1ç­‰æ˜Ÿã€Œã‚¢ã‚±ãƒ«ãƒŠãƒ«ã€ã¯ã€æ—¥æœ¬ã§ã¯é¹¿å…å³¶ä»¥å—ã§ãªã„ã¨è¦‹ãˆã¾ã›ã‚“ã€‚ã‚ªãƒªã‚ªãƒ³åº§ã®ãƒªã‚²ãƒ«ã®ã™ããã°ã‹ã‚‰å§‹ã¾ã‚Šã¾ã™ã€‚", 
        desc_en: "[The River] A long, winding constellation starting from Orion. Ends at the bright star Achernar (far south).",
        myth: "å¤ªé™½ç¥ãƒ˜ãƒªã‚ªã‚¹ã®æ¯å­ãƒ‘ã‚¨ãƒˆãƒ³ãŒã€çˆ¶ã®å¤ªé™½ã®é¦¬è»Šã‚’ç„¡ç†ã‚„ã‚Šé‹è»¢ã—ã¦æš´èµ°ã—ã€ã‚¼ã‚¦ã‚¹ã®é›·ã«æ’ƒãŸã‚Œã¦å¢œè½ã—ãŸä¼èª¬ã®å·ã§ã™ã€‚ãƒ‘ã‚¨ãƒˆãƒ³ã®ç‡ƒãˆã‚‹ä½“ã‚’å—ã‘æ­¢ã‚ã€å†·ã‚„ã—ãŸã¨è¨€ã‚ã‚Œã¦ã„ã¾ã™ã€‚", 
        myth_en: "The river where Phaethon fell after losing control of the sun chariot and being struck by Zeus's thunderbolt.",
        centerRA: 3.5, centerDec: -30.0, 
        lines: ["Cursa","Zaurak", "Zaurak","Acamar", "Acamar","Achernar"] 
    },

    // --- 11. CETUS (ãã˜ã‚‰åº§) ---
    { 
        id: "cet", rank: 3, name: "ãã˜ã‚‰åº§", en: "Cetus", 
        desc: "ã€æµ·ã®æ€ªç‰©ã€‘ç§‹ã‹ã‚‰å†¬ã«ã‹ã‘ã¦å—ã®ç©ºã«æ¨ªãŸã‚ã‚‹ã€å…¨å¤©ã§4ç•ªç›®ã«å·¨å¤§ãªæ˜Ÿåº§ã§ã™ã€‚ã‚¯ã‚¸ãƒ©ã¨ã„ã†ã‚ˆã‚Šã¯ã€å‰è¶³ã®ã‚ã‚‹æ€ªç‰©ã®å§¿ã‚’ã—ã¦ã„ã¾ã™ã€‚é¦–ã®ã¨ã“ã‚ã«ã‚ã‚‹æ˜Ÿã€ŒãƒŸãƒ©ã€ã¯ã€æ˜ã‚‹ã•ãŒå¤§ããå¤‰ã‚ã‚‹ã“ã¨ã§æœ‰åãªå¤‰å…‰æ˜Ÿã§ã€ã€Œä¸æ€è­°ãªã‚‚ã®ã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚", 
        desc_en: "[The Sea Monster] A huge constellation. Home to Mira, the 'Wonderful', a famous variable star. Not a gentle whale but a monster.",
        myth: "ã‚¢ãƒ³ãƒ‰ãƒ­ãƒ¡ãƒ€å§«ã‚’è¥²ã†ãŸã‚ã«ãƒã‚»ã‚¤ãƒ‰ãƒ³ãŒé£ã‚ã—ãŸæµ·ã®æ€ªç‰©ãƒ†ã‚£ã‚¢ãƒãƒˆï¼ˆã¾ãŸã¯ã‚±ãƒ¼ãƒˆã‚¹ï¼‰ã§ã™ã€‚å£ã‹ã‚‰æ½®ã§ã¯ãªãç‚ã‚’åãã¨ã‚‚è¨€ã‚ã‚Œã¾ã™ã€‚è‹±é›„ãƒšãƒ«ã‚»ã‚¦ã‚¹ã«ã‚ˆã£ã¦çŸ³ã«å¤‰ãˆã‚‰ã‚Œã€é€€æ²»ã•ã‚Œã¾ã—ãŸã€‚", 
        myth_en: "The sea monster sent to devour Andromeda. Slain by Perseus using Medusa's head.",
        centerRA: 1.5, centerDec: -10.0, 
        lines: ["Menkar","Mira", "Mira","Baten Kaitos", "Baten Kaitos","Diphda"] 
    },

    // --- âœ¨ RANK 4: STARS & GALAXIES ---
    // --- 1. SIRIUS (ã‚·ãƒªã‚¦ã‚¹) ---
    { 
        id: "sirius", rank: 4, name: "ã‚·ãƒªã‚¦ã‚¹", en: "Sirius", 
        desc: "ã€ç„¼ãç„¦ãŒã™ã‚‚ã®ã€‘ãŠãŠã„ã¬åº§ã®å£å…ƒã«ã‚ã‚‹å…¨å¤©ä¸€æ˜ã‚‹ã„æ’æ˜Ÿã§ã™ã€‚ã‚®ãƒªã‚·ãƒ£èªã§ã€Œç„¼ãç„¦ãŒã™ã‚‚ã®ã€ã¨ã„ã†æ„å‘³ãŒã‚ã‚Šã¾ã™ã€‚çœŸå¤ã«å¤ªé™½ã¨åŒã˜æ–¹å‘ã«ã‚ã£ã¦è¦‹ãˆãªã„æ™‚æœŸã‚’ã€Œãƒ‰ãƒƒã‚°ãƒ»ãƒ‡ã‚¤ã‚ºï¼ˆçŠ¬ã®æ—¥ã€…ï¼é…·æš‘ï¼‰ã€ã¨å‘¼ã¶ã®ã¯ã€ã“ã®æ˜Ÿã®ç†±ãŒæš‘ã•ã‚’ã‚‚ãŸã‚‰ã™ã¨ä¿¡ã˜ã‚‰ã‚Œã¦ã„ãŸãŸã‚ã§ã™ã€‚", 
        desc_en: "[The Scorcher] The brightest star in the night sky. The phrase 'Dog Days of Summer' comes from the belief that Sirius added heat to the sun.",
        myth: "æ˜ ç”»ã€ãƒãƒªãƒ¼ãƒ»ãƒãƒƒã‚¿ãƒ¼ã€ã«ç™»å ´ã™ã‚‹ã€Œã‚·ãƒªã‚¦ã‚¹ãƒ»ãƒ–ãƒ©ãƒƒã‚¯ã€ã®åå‰ã®ç”±æ¥ã§ã™ã€‚å½¼ã¯é»’ã„çŠ¬ã«å¤‰èº«ã™ã‚‹èƒ½åŠ›ã‚’æŒã£ã¦ã„ã¾ã—ãŸã€‚å¤ä»£ã‚¨ã‚¸ãƒ—ãƒˆã§ã¯ã€ŒãƒŠã‚¤ãƒ«ã®æ˜Ÿï¼ˆã‚½ãƒ†ã‚£ã‚¹ï¼‰ã€ã¨å‘¼ã°ã‚Œã€ãƒ”ãƒ©ãƒŸãƒƒãƒ‰å»ºè¨­ã®å‘ãã‚’æ±ºã‚ã‚‹åŸºæº–ã«ã‚‚ãªã£ãŸæ¥µã‚ã¦é‡è¦ãªæ˜Ÿã§ã™ã€‚", 
        myth_en: "Namesake of Sirius Black in Harry Potter, who transforms into a dog. In Egypt, it was known as Sothis and predicted the Nile floods.",
        centerRA: 6.75, centerDec: -16.7, 
        lines: [] 
    },

    // --- 2. ANDROMEDA GALAXY (ã‚¢ãƒ³ãƒ‰ãƒ­ãƒ¡ãƒ€éŠ€æ²³) ---
    { 
        id: "m31", rank: 4, name: "ã‚¢ãƒ³ãƒ‰ãƒ­ãƒ¡ãƒ€éŠ€æ²³ (M31)", en: "Andromeda Galaxy", 
        desc: "ã€ãŠéš£ã®å·¨å¤§éŠ€æ²³ã€‘ç§ãŸã¡ã®å¤©ã®å·éŠ€æ²³ã®ãŠéš£ã«ã‚ã‚‹ã€ç›´å¾„ç´„22ä¸‡å…‰å¹´ã®å·¨å¤§ãªæ¸¦å·»éŠ€æ²³ã§ã™ã€‚è‚‰çœ¼ã§è¦‹ã‚‹ã“ã¨ãŒã§ãã‚‹ã€Œæœ€ã‚‚é ã„ç‰©ä½“ï¼ˆç´„250ä¸‡å…‰å¹´ï¼‰ã€ã§ã™ã€‚ç©ºã®æš—ã„å ´æ‰€ã§ã¯ã€ã‚¢ãƒ³ãƒ‰ãƒ­ãƒ¡ãƒ€åº§ã®è…°ã®ã‚ãŸã‚Šã«ã€ãƒœãƒ¼ãƒƒã¨ã—ãŸå…‰ã®ã‚·ãƒŸã®ã‚ˆã†ã«è¦‹ãˆã¾ã™ã€‚", 
        desc_en: "[Our Neighbor] A giant spiral galaxy 2.5 million light-years away. The farthest object visible to the naked eye.",
        myth: "ç¥è©±ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€æœªæ¥ã®äºˆæ¸¬ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®éŠ€æ²³ã¯çŒ›ã‚¹ãƒ”ãƒ¼ãƒ‰ã§ç§ãŸã¡ã«è¿‘ã¥ã„ã¦ãŠã‚Šã€ç´„40å„„å¹´å¾Œã«ã¯å¤©ã®å·éŠ€æ²³ã¨æ­£é¢è¡çªã—ã¦åˆä½“ã—ã€ã€ŒãƒŸãƒ«ã‚³ãƒ¡ãƒ€éŠ€æ²³ã€ã¨ã„ã†ä¸€ã¤ã®å·¨å¤§ãªæ¥•å††éŠ€æ²³ã«ãªã‚‹ã¨äºˆæ¸¬ã•ã‚Œã¦ã„ã¾ã™ã€‚", 
        myth_en: "It is predicted to collide and merge with our Milky Way in about 4 billion years, forming 'Milkomeda'.",
        centerRA: 0.7, centerDec: 41.2, 
        lines: [] 
    },

    // --- 3. PLEIADES (ãƒ—ãƒ¬ã‚¢ãƒ‡ã‚¹æ˜Ÿå›£ / ã™ã°ã‚‹) ---
    { 
        id: "m45", rank: 4, name: "ãƒ—ãƒ¬ã‚¢ãƒ‡ã‚¹æ˜Ÿå›£ (ã™ã°ã‚‹)", en: "Pleiades (Subaru)", 
        desc: "ã€æ˜Ÿã®å®çŸ³ç®±ã€‘ãŠã†ã—åº§ã®è‚©ã«ã‚ã‚‹ç¾ã—ã„æ•£é–‹æ˜Ÿå›£ã§ã™ã€‚å¹³å®‰æ™‚ä»£ã®éšç­†ã€æ•è‰å­ã€ã§æ¸…å°‘ç´è¨€ãŒã€Œæ˜Ÿã¯ã™ã°ã‚‹ã€ã¨ç§°ãˆãŸã“ã¨ã§æœ‰åã§ã™ã€‚ã€Œã™ã°ã‚‹ã€ã¯ã€Œé›†ã¾ã£ã¦ã²ã¨ã¤ã«ãªã‚‹ï¼ˆçµ±ã¹ã‚‹ï¼‰ã€ã¨ã„ã†æ„å‘³ã®å¤ã„æ—¥æœ¬èªã§ã™ã€‚", 
        desc_en: "[Star Box] A beautiful open cluster in Taurus. Known as 'Subaru' in Japan, meaning 'to unite'.",
        myth: "è‡ªå‹•è»Šãƒ¡ãƒ¼ã‚«ãƒ¼ã€ŒSUBARUã€ã®ç¤¾åã¨ãƒ­ã‚´ãƒãƒ¼ã‚¯ï¼ˆå…­é€£æ˜Ÿï¼‰ã®ç”±æ¥ã§ã™ã€‚ã‚®ãƒªã‚·ãƒ£ç¥è©±ã§ã¯ã€å·¨äººã‚¢ãƒˆãƒ©ã‚¹ã®7äººã®å¨˜ãŸã¡ï¼ˆãƒ—ãƒ¬ã‚¢ãƒ‡ã‚¹7å§‰å¦¹ï¼‰ãŒã€ç‹©äººã‚ªãƒªã‚ªãƒ³ã«è¿½ã„ã‹ã‘ã‚‰ã‚Œã¦é€ƒã’æƒ‘ã„ã€é³©ã«å¤‰èº«ã—ã¦æ˜Ÿã«ãªã£ãŸå§¿ã ã¨è¨€ã‚ã‚Œã¦ã„ã¾ã™ã€‚", 
        myth_en: "The emblem of the car maker SUBARU. In myth, the Seven Sisters pursued by Orion and turned into stars by Zeus.",
        centerRA: 3.8, centerDec: 24.1, 
        lines: [] 
    },

    // --- 4. ORION NEBULA (ã‚ªãƒªã‚ªãƒ³å¤§æ˜Ÿé›²) ---
    { 
        id: "m42", rank: 4, name: "ã‚ªãƒªã‚ªãƒ³å¤§æ˜Ÿé›² (M42)", en: "Orion Nebula", 
        desc: "ã€æ˜Ÿã®ã‚†ã‚Šã‹ã”ã€‘ã‚ªãƒªã‚ªãƒ³åº§ã®ä¸‰ã¤æ˜Ÿã®ä¸‹ã«ã¶ã‚‰ä¸‹ãŒã£ã¦ã„ã‚‹ã€Œå°ä¸‰ã¤æ˜Ÿã€ã®çœŸã‚“ä¸­ã«ã‚ã‚Šã¾ã™ã€‚è‚‰çœ¼ã§ã‚‚å°‘ã—æ»²ã‚“ã§è¦‹ãˆã¾ã™ã€‚ã“ã“ã¯å·¨å¤§ãªã‚¬ã‚¹ã®å¡Šã§ã€ä¸­ã§æ–°ã—ã„æ˜ŸãŒæ¬¡ã€…ã¨ç”Ÿã¾ã‚Œã¦ã„ã‚‹ã€Œå®‡å®™ã®å·¥å ´ã€ã§ã™ã€‚ä¸­å¿ƒã«ã¯ã€Œãƒˆãƒ©ãƒšã‚¸ã‚¦ãƒ ã€ã¨ã„ã†ç”Ÿã¾ã‚ŒãŸã¦ã®4ã¤ã®æ˜ŸãŒè¼ã„ã¦ã„ã¾ã™ã€‚", 
        desc_en: "[Stellar Nursery] Located in Orion's sword. A massive cloud of gas where new stars are being born. Contains the Trapezium cluster.",
        myth: "ç‰¹å®šã®ç¥è©±ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€ãƒãƒ¤æ–‡æ˜ã§ã¯ã€ã“ã®å ´æ‰€ã‚’ã€Œå®‡å®™ã®ç‚‰ï¼ˆCreation Hearthï¼‰ã€ã¨æ‰ãˆã€ç”Ÿå‘½å‰µé€ ã®ç‚ãŒç‡ƒãˆã¦ã„ã‚‹å ´æ‰€ã¨è€ƒãˆã¦ã„ã¾ã—ãŸã€‚ç¾ä»£å¤©æ–‡å­¦ã§ã‚‚ã€Œæ˜ŸãŒç”Ÿã¾ã‚Œã‚‹å ´æ‰€ã€ãªã®ã§ã€å¤ä»£ã®ç›´æ„Ÿã¯é‹­ã‹ã£ãŸã¨è¨€ãˆã¾ã™ã€‚", 
        myth_en: "The Maya viewed this area as the cosmic hearth of creation, which aligns with modern astronomy identifying it as a star nursery.",
        centerRA: 5.6, centerDec: -5.4, 
        lines: [] 
    },

    // --- 5. POLARIS (åŒ—æ¥µæ˜Ÿ) ---
    { 
        id: "polaris", rank: 4, name: "åŒ—æ¥µæ˜Ÿ (ãƒãƒ©ãƒªã‚¹)", en: "Polaris", 
        desc: "ã€ä¸å‹•ã®é“ã—ã‚‹ã¹ã€‘ã“ãã¾åº§ã®å°»å°¾ã«ã‚ã‚‹2ç­‰æ˜Ÿã§ã™ã€‚åœ°çƒã®è‡ªè»¢è»¸ï¼ˆåœ°è»¸ï¼‰ã®å»¶é•·ç·šä¸Šã«ã‚ã‚‹ãŸã‚ã€ä¸€æ™©ä¸­ã»ã¨ã‚“ã©å‹•ãã¾ã›ã‚“ã€‚ãã®ãŸã‚ã€å¤ãã‹ã‚‰èˆªæµ·ã‚„æ—…ã®éš›ã®ã€ŒçœŸåŒ—ã€ã‚’çŸ¥ã‚‹ãŸã‚ã®æœ€ã‚‚é‡è¦ãªæ˜Ÿã¨ã—ã¦åˆ©ç”¨ã•ã‚Œã¦ãã¾ã—ãŸã€‚", 
        desc_en: "[North Star] Located at the celestial pole, it appears motionless. Vital for navigation to find True North.",
        myth: "å®Ÿã¯åŒ—æ¥µæ˜Ÿã¯äº¤ä»£åˆ¶ã§ã™ã€‚åœ°çƒã®é¦–æŒ¯ã‚Šé‹å‹•ï¼ˆæ­³å·®ï¼‰ã«ã‚ˆã‚Šã€ç´€å…ƒå‰3000å¹´é ƒã¯ã‚Šã‚…ã†åº§ã®ãƒˆã‚¥ãƒãƒ³ãŒã€ãã—ã¦1ä¸‡2000å¹´å¾Œã«ã¯ã“ã¨åº§ã®ãƒ™ã‚¬ãŒåŒ—æ¥µæ˜Ÿã«ãªã‚Šã¾ã™ã€‚ãƒãƒ©ãƒªã‚¹ã¯ã€Œç¾åœ¨ã®ã€åŒ—æ¥µæ‹…å½“ã«éãã¾ã›ã‚“ã€‚", 
        myth_en: "The title of North Star is temporary due to Earth's precession. Thuban was the North Star in 3000 BC, and Vega will be in 12,000 years.",
        centerRA: 2.5, centerDec: 89.2, 
        lines: [] 
    },

    // --- 6. ARCTURUS (ã‚¢ãƒ¼ã‚¯ãƒˆã‚¥ãƒ«ã‚¹) ---
    { 
        id: "arcturus", rank: 4, name: "ã‚¢ãƒ¼ã‚¯ãƒˆã‚¥ãƒ«ã‚¹", en: "Arcturus", 
        desc: "ã€éº¦æ˜Ÿã€‘ã†ã—ã‹ã„åº§ã®1ç­‰æ˜Ÿã§ã€ã‚ªãƒ¬ãƒ³ã‚¸è‰²ã«æ˜ã‚‹ãè¼ãã¾ã™ã€‚æ—¥æœ¬ã§ã¯éº¦ã®åç©«æ™‚æœŸã«é ­ä¸Šã§è¼ããŸã‚ã€Œéº¦æ˜Ÿã€ã¨å‘¼ã°ã‚Œã¾ã—ãŸã€‚å…¨å¤©ã®1ç­‰æ˜Ÿã®ä¸­ã§æœ€ã‚‚ç§»å‹•é€Ÿåº¦ï¼ˆå›ºæœ‰é‹å‹•ï¼‰ãŒé€Ÿã„ã€Œæš´èµ°æ˜Ÿã€ã¨ã—ã¦ã‚‚çŸ¥ã‚‰ã‚Œã€ãŠã‚ˆã5ä¸‡å¹´å¾Œã«ã¯å…¨ãé•ã†ä½ç½®ã«ç§»å‹•ã—ã¦ã—ã¾ã„ã¾ã™ã€‚", 
        desc_en: "[Bear Guard] An orange giant in BoÃ¶tes. Known for its high proper motion, speeding across the galaxy faster than other bright stars.",
        myth: "ãƒãƒ¯ã‚¤ã§ã¯ã€Œãƒ›ã‚¯ãƒ¬ã‚¢ï¼ˆå–œã³ã®æ˜Ÿï¼‰ã€ã¨å‘¼ã°ã‚Œã¾ã™ã€‚å¤ä»£ãƒãƒªãƒã‚·ã‚¢äººã¯ã€ã“ã®æ˜ŸãŒãƒãƒ¯ã‚¤è«¸å³¶ã®çœŸä¸Šã‚’é€šã‚‹ã“ã¨ã‚’åˆ©ç”¨ã—ã¦ã€ã‚³ãƒ³ãƒ‘ã‚¹ã‚‚åœ°å›³ã‚‚ãªã—ã«å¤ªå¹³æ´‹ã‚’æ¸¡ã‚Šã€ãƒãƒ¯ã‚¤ã‚’ç™ºè¦‹ã—ã¾ã—ãŸã€‚ã¾ã•ã«ã€Œãƒãƒ¯ã‚¤ã¸ã®é“ã—ã‚‹ã¹ã€ã§ã™ã€‚", 
        myth_en: "Called HÅkÅ«leÊ»a (Star of Gladness) in Hawaii. Ancient navigators used it to find the Hawaiian Islands across the Pacific.",
        centerRA: 14.3, centerDec: 19.2, 
        lines: [] 
    },

    // --- 7. BETELGEUSE (ãƒ™ãƒ†ãƒ«ã‚®ã‚¦ã‚¹) ---
    { 
        id: "betelgeuse", rank: 4, name: "ãƒ™ãƒ†ãƒ«ã‚®ã‚¦ã‚¹", en: "Betelgeuse", 
        desc: "ã€å¹³å®¶æ˜Ÿã€‘ã‚ªãƒªã‚ªãƒ³åº§ã®å·¦ä¸Šã®èµ¤ã„æ˜Ÿã§ã™ã€‚å¤ªé™½ç³»ã«ç½®ãã¨æœ¨æ˜Ÿã®è»Œé“ã¾ã§é£²ã¿è¾¼ã‚€ã»ã©å·¨å¤§ãªã€Œèµ¤è‰²è¶…å·¨æ˜Ÿã€ã§ã™ã€‚å¯¿å‘½ãŒå°½ãã‹ã‘ã¦ãŠã‚Šã€æ˜æ—¥çˆ†ç™ºã—ã¦ã‚‚ãŠã‹ã—ããªã„ã¨è¨€ã‚ã‚Œã¦ã„ã¾ã™ã€‚çˆ†ç™ºã™ã‚Œã°ã€æ˜¼é–“ã§ã‚‚è¦‹ãˆã‚‹ã»ã©ã®æ˜ã‚‹ã•ã«ãªã‚‹ã¨äºˆæ¸¬ã•ã‚Œã¦ã„ã¾ã™ã€‚", 
        desc_en: "[Red Supergiant] A massive dying star in Orion. If placed in our solar system, it would reach Jupiter. Expected to go supernova soon.",
        myth: "æ—¥æœ¬ã§ã¯ã€ã“ã®èµ¤ã„æ˜Ÿã‚’ã€Œå¹³å®¶ã®èµ¤æ——ã€ã«è¦‹ç«‹ã¦ã¦ã€Œå¹³å®¶æ˜Ÿã€ã€å¯¾è§’ç·šã«ã‚ã‚‹ç™½ã„ãƒªã‚²ãƒ«ã‚’ã€Œæºæ°ã®ç™½æ——ã€ã«è¦‹ç«‹ã¦ã¦ã€Œæºæ°æ˜Ÿã€ã¨å‘¼ã³ã¾ã—ãŸã€‚ç©ºã®ä¸Šã§ã‚‚æºå¹³åˆæˆ¦ãŒç¹°ã‚Šåºƒã’ã‚‰ã‚Œã¦ã„ã‚‹ã¨ã„ã†ã€ãƒ­ãƒãƒ³ã‚ãµã‚Œã‚‹å’Œåã§ã™ã€‚", 
        myth_en: "In Japan, it's called the 'Heike Star' (Red clan), facing off against Rigel, the 'Genji Star' (White clan), representing a historic war.",
        centerRA: 5.9, centerDec: 7.4, 
        lines: [] 
    },

    // --- 8. MILKY WAY CENTER (å¤©ã®å·éŠ€æ²³ä¸­å¿ƒ) ---
    { 
        id: "mw_center", rank: 4, name: "å¤©ã®å·éŠ€æ²³ä¸­å¿ƒ", en: "Galactic Center", 
        desc: "ã€ãƒ–ãƒ©ãƒƒã‚¯ãƒ›ãƒ¼ãƒ«ã®æ£²å®¶ã€‘ã„ã¦åº§ã®æ–¹å‘ã€å¤©ã®å·ãŒæœ€ã‚‚æ¿ƒãè¦‹ãˆã‚‹å ´æ‰€ã«ã€ç§ãŸã¡ã®éŠ€æ²³ç³»ã®ä¸­å¿ƒãŒã‚ã‚Šã¾ã™ã€‚ãã“ã«ã¯å¤ªé™½ã®400ä¸‡å€ã®è³ªé‡ã‚’æŒã¤è¶…å¤§è³ªé‡ãƒ–ãƒ©ãƒƒã‚¯ãƒ›ãƒ¼ãƒ«ã€Œã„ã¦åº§A*ï¼ˆã‚¨ãƒ¼ã‚¹ã‚¿ãƒ¼ï¼‰ã€ãŒæ½œã‚“ã§ãŠã‚Šã€éŠ€æ²³å…¨ä½“ã®æ˜Ÿã€…ã‚’é‡åŠ›ã§æ”¯é…ã—ã¦ã„ã¾ã™ã€‚", 
        desc_en: "[Galactic Core] The center of our Milky Way in Sagittarius. Home to Sagittarius A*, a supermassive black hole 4 million times the mass of the Sun.",
        myth: "æ±æ´‹ã®ä¸ƒå¤•ä¼èª¬ã§ã¯ã€å¤©ã®å·ã¯æ‹äººãŸã¡ï¼ˆãƒ™ã‚¬ã¨ã‚¢ãƒ«ã‚¿ã‚¤ãƒ«ï¼‰ã‚’å¼•ãè£‚ãå·ã§ã™ãŒã€å—ç±³ã®ã‚¤ãƒ³ã‚«å¸å›½ã§ã¯ã€å¤©ã®å·ã®ã€Œæš—ã„éƒ¨åˆ†ï¼ˆæ˜Ÿã®ãªã„éƒ¨åˆ†ï¼‰ã€ã‚’ã€æ°´ã‚’é£²ã‚€ãƒªãƒ£ãƒã‚„è›‡ã®å§¿ã«è¦‹ç«‹ã¦ã¦ã€Œæš—é»’æ˜Ÿåº§ã€ã¨ã—ã¦å´‡æ‹ã—ã¦ã„ã¾ã—ãŸã€‚", 
        myth_en: "While Asia sees a river separating lovers, the Incas saw shapes in the dark patches of the Milky Way, calling them 'Dark Cloud Constellations'.",
        centerRA: 17.8, centerDec: -29.0, 
        lines: [] 
    }
];

// --- ä¿®æ­£æ¸ˆã¿ STARS_DATA (Strictly from Text 1 to avoid Duplicates) ---
const STARS_DATA = [
    // --- ğŸ¦ 1. ORION (ã‚ªãƒªã‚ªãƒ³åº§) ---
    { name: "Betelgeuse", ra: 5.919, dec: 7.407, mag: 0.45, ci: 1.85 },
    { name: "Rigel", ra: 5.242, dec: -8.202, mag: 0.12, ci: -0.03 },
    { name: "Bellatrix", ra: 5.418, dec: 6.349, mag: 1.64, ci: -0.22 },
    { name: "Saiph", ra: 5.795, dec: -9.669, mag: 2.07, ci: -0.18 },
    { name: "Alnitak", ra: 5.679, dec: -1.943, mag: 1.74, ci: -0.21 },
    { name: "Alnilam", ra: 5.603, dec: -1.202, mag: 1.69, ci: -0.19 },
    { name: "Mintaka", ra: 5.533, dec: -0.299, mag: 2.25, ci: -0.21 },
    { name: "Meissa", ra: 5.585, dec: 9.934, mag: 3.39, ci: -0.14 },

    // --- ğŸ¦‚ 2. SCORPIUS (ã•ãã‚Šåº§) ---
    { name: "Antares", ra: 16.490, dec: -26.432, mag: 1.06, ci: 1.83 },
    { name: "Graffias", ra: 16.088, dec: -19.805, mag: 2.56, ci: -0.11 },
    { name: "Dschubba", ra: 16.005, dec: -22.622, mag: 2.29, ci: -0.13 },
    { name: "Pi Sco", ra: 15.979, dec: -26.114, mag: 2.89, ci: -0.21 },
    { name: "Wei", ra: 16.834, dec: -38.020, mag: 2.29, ci: 1.14 },
    { name: "Mu Sco", ra: 16.863, dec: -38.048, mag: 3.00, ci: -0.20 },
    { name: "Zeta Sco", ra: 16.904, dec: -42.360, mag: 3.62, ci: 1.50 },
    { name: "Eta Sco", ra: 17.202, dec: -43.238, mag: 3.32, ci: 0.05 },
    { name: "Sargas", ra: 17.623, dec: -42.998, mag: 1.86, ci: 0.38 },
    { name: "Iota Sco", ra: 17.795, dec: -40.125, mag: 2.99, ci: 0.17 },
    { name: "Kappa Sco", ra: 17.703, dec: -39.029, mag: 2.39, ci: -0.20 },
    { name: "Shaula", ra: 17.560, dec: -37.104, mag: 1.62, ci: -0.22 },
    { name: "Lesath", ra: 17.513, dec: -37.291, mag: 2.70, ci: -0.21 },

    // --- ğŸ“ 3. SUMMER TRIANGLE STARS ---
    { name: "Vega", ra: 18.615, dec: 38.783, mag: 0.03, ci: 0.00 },
    { name: "Altair", ra: 19.846, dec: 8.868, mag: 0.76, ci: 0.22 },
    { name: "Deneb", ra: 20.690, dec: 45.280, mag: 1.25, ci: 0.09 },

    // --- ğŸ‚ 4. TAURUS (ãŠã†ã—åº§) ---
    { name: "Aldebaran", ra: 4.598, dec: 16.509, mag: 0.87, ci: 1.54 },
    { name: "Elnath", ra: 5.438, dec: 28.607, mag: 1.65, ci: -0.13 },
    { name: "Zeta Tau", ra: 5.627, dec: 21.142, mag: 2.97, ci: -0.22 },
    { name: "Ain", ra: 4.478, dec: 19.180, mag: 3.53, ci: 1.02 },
    { name: "Hyadum I", ra: 4.331, dec: 15.627, mag: 3.65, ci: 0.97 },
    { name: "Delta Tau", ra: 4.381, dec: 17.542, mag: 3.77, ci: 0.96 },
    { name: "Alcyone", ra: 3.791, dec: 24.105, mag: 2.85, ci: -0.09 },

    // --- ğŸ‘¯ 5. GEMINI (ãµãŸã”åº§) ---
    { name: "Pollux", ra: 7.755, dec: 28.026, mag: 1.16, ci: 1.00 },
    { name: "Castor", ra: 7.576, dec: 31.888, mag: 1.58, ci: 0.04 },
    { name: "Alhena", ra: 6.628, dec: 16.399, mag: 1.93, ci: 0.00 },
    { name: "Tejat", ra: 6.248, dec: 22.506, mag: 2.87, ci: 1.56 },
    { name: "Mebsuta", ra: 6.733, dec: 25.131, mag: 3.06, ci: 1.40 },
    { name: "Wasat", ra: 7.336, dec: 21.982, mag: 3.50, ci: 0.16 },

    // --- ğŸ¦ 6. LEO (ã—ã—åº§) ---
    { name: "Regulus", ra: 10.139, dec: 11.967, mag: 1.36, ci: -0.11 },
    { name: "Denebola", ra: 11.817, dec: 14.572, mag: 2.14, ci: 0.09 },
    { name: "Algieba", ra: 10.333, dec: 19.841, mag: 2.01, ci: 1.15 },
    { name: "Zosma", ra: 11.236, dec: 20.523, mag: 2.56, ci: 0.12 },
    { name: "Adhafera", ra: 10.276, dec: 23.417, mag: 3.43, ci: 1.25 },
    { name: "Rasalas", ra: 9.764, dec: 23.774, mag: 2.97, ci: 1.62 },
    { name: "Chertan", ra: 11.236, dec: 15.428, mag: 3.33, ci: 0.07 },

    // --- â™ 7. VIRGO (ãŠã¨ã‚åº§) ---
    { name: "Spica", ra: 13.416, dec: -11.161, mag: 0.98, ci: -0.23 },
    { name: "Porrima", ra: 12.693, dec: -1.450, mag: 2.74, ci: 0.36 },
    { name: "Vindemiatrix", ra: 13.036, dec: 10.959, mag: 2.85, ci: 0.94 },
    { name: "Heze", ra: 13.578, dec: -0.595, mag: 3.38, ci: 0.16 },
    { name: "Auva", ra: 12.926, dec: 3.398, mag: 3.39, ci: 1.38 },
    { name: "Zavijava", ra: 11.841, dec: 1.765, mag: 3.61, ci: 0.56 },

    // --- ğŸ» 8. URSA MAJOR (ãŠãŠãã¾åº§ - åŒ—æ–—ä¸ƒæ˜Ÿ) ---
    { name: "Dubhe", ra: 11.062, dec: 61.751, mag: 1.81, ci: 1.07 },
    { name: "Merak", ra: 11.030, dec: 56.382, mag: 2.34, ci: 0.04 },
    { name: "Phecda", ra: 11.897, dec: 53.694, mag: 2.41, ci: 0.02 },
    { name: "Megrez", ra: 12.257, dec: 57.032, mag: 3.32, ci: 0.08 },
    { name: "Alioth", ra: 12.900, dec: 55.959, mag: 1.76, ci: 0.02 },
    { name: "Mizar", ra: 13.398, dec: 54.925, mag: 2.23, ci: 0.06 },
    { name: "Alkaid", ra: 13.792, dec: 49.313, mag: 1.85, ci: -0.19 },
    { name: "Talitha", ra: 8.987, dec: 48.041, mag: 3.12, ci: 0.20 },
    { name: "Tania Borealis", ra: 10.284, dec: 42.914, mag: 3.45, ci: -0.05 },
    { name: "Mu UMa", ra: 10.373, dec: 41.498, mag: 3.06, ci: 1.45 },

    // --- ğŸ¹ 9. SAGITTARIUS (ã„ã¦åº§) ---
    { name: "Kaus Australis", ra: 18.402, dec: -34.384, mag: 1.79, ci: -0.03 },
    { name: "Nunki", ra: 18.918, dec: -26.296, mag: 2.05, ci: -0.13 },
    { name: "Ascella", ra: 19.043, dec: -29.880, mag: 2.60, ci: 0.10 },
    { name: "Kaus Media", ra: 18.347, dec: -29.828, mag: 2.72, ci: 1.04 },
    { name: "Kaus Borealis", ra: 18.466, dec: -25.422, mag: 2.82, ci: 1.05 },
    { name: "Alnasl", ra: 18.097, dec: -30.421, mag: 2.98, ci: 1.03 },
    { name: "Phi Sgr", ra: 18.756, dec: -26.989, mag: 3.17, ci: -0.06 },
    { name: "Tau Sgr", ra: 19.115, dec: -27.670, mag: 3.32, ci: 1.10 },

    // --- ğŸ• 10. CANIS MAJOR (ãŠãŠã„ã¬åº§) ---
    { name: "Sirius", ra: 6.752, dec: -16.716, mag: -1.46, ci: 0.00 },
    { name: "Adhara", ra: 6.977, dec: -28.972, mag: 1.50, ci: -0.19 },
    { name: "Wezen", ra: 7.141, dec: -26.393, mag: 1.83, ci: 0.68 },
    { name: "Mirzam", ra: 6.378, dec: -17.955, mag: 1.98, ci: -0.22 },
    { name: "Aludra", ra: 7.401, dec: -29.303, mag: 2.45, ci: -0.08 },
    { name: "Furud", ra: 6.339, dec: -30.063, mag: 3.02, ci: -0.18 },
    { name: "Muliphein", ra: 7.065, dec: -15.632, mag: 4.11, ci: -0.14 },

    // --- ğŸ• 11. CANIS MINOR (ã“ã„ã¬åº§) ---
    { name: "Procyon", ra: 7.655, dec: 5.224, mag: 0.34, ci: 0.42 },
    { name: "Gomeisa", ra: 7.451, dec: 8.291, mag: 2.89, ci: -0.08 },

    // --- ğŸšœ 12. AURIGA (ãã‚‡ã—ã‚ƒåº§) ---
    { name: "Capella", ra: 5.278, dec: 45.997, mag: 0.08, ci: 0.80 },
    { name: "Menkalinan", ra: 5.992, dec: 44.947, mag: 1.90, ci: 0.07 },
    { name: "Mahasim", ra: 5.995, dec: 37.212, mag: 2.65, ci: -0.06 },
    { name: "Hassaleh", ra: 4.949, dec: 33.166, mag: 2.69, ci: 1.25 },

    // --- ğŸ‚ 13. BOÃ–TES (ã†ã—ã‹ã„åº§) ---
    { name: "Arcturus", ra: 14.261, dec: 19.182, mag: -0.05, ci: 1.23 },
    { name: "Izar", ra: 14.751, dec: 27.074, mag: 2.35, ci: 1.00 },
    { name: "Muphrid", ra: 13.911, dec: 18.397, mag: 2.68, ci: 0.58 },
    { name: "Seginus", ra: 14.536, dec: 38.308, mag: 3.04, ci: 0.16 },
    { name: "Nekkar", ra: 15.032, dec: 40.391, mag: 3.49, ci: 0.99 },
    { name: "Alkalurops", ra: 15.407, dec: 37.375, mag: 4.31, ci: 0.39 },

    // --- ğŸ’º 1. CASSIOPEIA (ã‚«ã‚·ã‚ªãƒšãƒ¤åº§) ---
    { name: "Schedar", ra: 0.675, dec: 56.537, mag: 2.24, ci: 1.17 },
    { name: "Caph", ra: 0.153, dec: 59.150, mag: 2.28, ci: 0.34 },
    { name: "Gamma Cas", ra: 0.945, dec: 60.717, mag: 2.15, ci: -0.1 },
    { name: "Ruchbah", ra: 1.430, dec: 60.235, mag: 2.66, ci: 0.13 },
    { name: "Segin", ra: 1.907, dec: 63.670, mag: 3.35, ci: 0.26 },

    // --- â›“ï¸ 2. ANDROMEDA (ã‚¢ãƒ³ãƒ‰ãƒ­ãƒ¡ãƒ€åº§) ---
    { name: "Alpheratz", ra: 0.139, dec: 29.090, mag: 2.07, ci: -0.11 },
    { name: "Mirach", ra: 1.162, dec: 35.620, mag: 2.07, ci: 1.64 },
    { name: "Almach", ra: 2.064, dec: 42.329, mag: 2.10, ci: 1.37 },

    // --- ğŸ 3. PEGASUS (ãƒšã‚¬ã‚¹ã‚¹åº§) ---
    { name: "Markab", ra: 23.079, dec: 15.205, mag: 2.49, ci: -0.04 },
    { name: "Scheat", ra: 23.062, dec: 28.082, mag: 2.44, ci: 1.65 },
    { name: "Algenib", ra: 0.221, dec: 15.183, mag: 2.83, ci: -0.23 },
    { name: "Enif", ra: 21.736, dec: 9.875, mag: 2.38, ci: 1.53 },

    // --- ğŸ¦¢ 4. CYGNUS (ã¯ãã¡ã‚‡ã†åº§) ---
    { name: "Sadr", ra: 20.370, dec: 40.256, mag: 2.23, ci: 0.67 },
    { name: "Albireo", ra: 19.512, dec: 27.960, mag: 3.05, ci: 1.13 },
    { name: "Gienah", ra: 20.771, dec: 33.959, mag: 2.48, ci: 1.03 },
    { name: "Delta Cyg", ra: 19.762, dec: 45.130, mag: 2.86, ci: -0.01 },

    // --- ğŸ» 5. URSA MINOR (ã“ãã¾åº§) ---
    { name: "Polaris", ra: 2.530, dec: 89.264, mag: 1.97, ci: 0.63 },
    { name: "Kochab", ra: 14.845, dec: 74.155, mag: 2.07, ci: 1.28 },
    { name: "Pherkad", ra: 15.346, dec: 71.834, mag: 3.00, ci: 0.05 },
    { name: "Yildun", ra: 17.538, dec: 86.586, mag: 4.35, ci: 0.01 },
    { name: "Zeta UMi", ra: 15.734, dec: 77.795, mag: 4.29, ci: -0.06 },
    { name: "Eta UMi", ra: 16.292, dec: 75.753, mag: 4.95, ci: 0.40 },

    // --- ğŸ» 6. LYRA (ã“ã¨åº§) ---
    { name: "Sheliak", ra: 18.834, dec: 33.362, mag: 3.52, ci: 0.05 },
    { name: "Sulafat", ra: 18.979, dec: 32.689, mag: 3.25, ci: -0.06 },
    { name: "Delta Lyr", ra: 18.900, dec: 36.900, mag: 4.30, ci: 0.00 },

    // --- ğŸ¦… 7. AQUILA (ã‚ã—åº§) ---
    { name: "Tarazed", ra: 19.771, dec: 10.613, mag: 2.72, ci: 1.52 },
    { name: "Alshain", ra: 19.923, dec: 6.406, mag: 3.71, ci: 0.86 },
    { name: "Delta Aql", ra: 19.418, dec: 3.113, mag: 3.36, ci: 0.28 },
    { name: "Zeta Aql", ra: 19.088, dec: 13.863, mag: 2.99, ci: 0.06 },

    // --- âš”ï¸ 8. PERSEUS (ãƒšãƒ«ã‚»ã‚¦ã‚¹åº§) ---
    { name: "Mirfak", ra: 3.405, dec: 49.861, mag: 1.79, ci: 0.48 },
    { name: "Algol", ra: 3.136, dec: 40.955, mag: 2.09, ci: -0.05 },
    { name: "Gamma Per", ra: 3.078, dec: 53.506, mag: 2.91, ci: 0.65 },
    { name: "Delta Per", ra: 3.715, dec: 47.788, mag: 3.01, ci: -0.13 },

    // --- âš•ï¸ 9. OPHIUCHUS (ã¸ã³ã¤ã‹ã„åº§) ---
    { name: "Rasalhague", ra: 17.582, dec: 12.560, mag: 2.08, ci: 0.15 },
    { name: "Sabik", ra: 17.172, dec: -15.724, mag: 2.43, ci: 0.09 },
    { name: "Zeta Oph", ra: 16.619, dec: -10.567, mag: 2.54, ci: -0.21 },
    { name: "Yed Prior", ra: 16.236, dec: -3.696, mag: 2.73, ci: 1.62 },
    { name: "Cebalrai", ra: 17.722, dec: 4.567, mag: 2.76, ci: 1.17 },

    // --- ğŸŸ 10. PISCIS AUSTRINUS (ã¿ãªã¿ã®ã†ãŠåº§) ---
    { name: "Fomalhaut", ra: 22.960, dec: -29.622, mag: 1.17, ci: 0.09 },

    // --- ğŸ‘‘ 11. CORONA BOREALIS (ã‹ã‚“ã‚€ã‚Šåº§) ---
    { name: "Alphecca", ra: 15.578, dec: 26.714, mag: 2.22, ci: -0.02 },
    { name: "Nusakan", ra: 15.464, dec: 29.111, mag: 3.66, ci: 0.41 },

    // --- ğŸ¬ 12. DELPHINUS (ã„ã‚‹ã‹åº§) ---
    { name: "Sualocin", ra: 20.663, dec: 15.912, mag: 3.77, ci: -0.07 },
    { name: "Rotanev", ra: 20.627, dec: 14.600, mag: 3.64, ci: 0.65 },
    { name: "Gamma Del", ra: 20.778, dec: 16.124, mag: 4.27, ci: 0.45 },
    { name: "Delta Del", ra: 20.722, dec: 15.057, mag: 4.43, ci: 0.35 },

    // --- ğŸ‡ 1. LEPUS (ã†ã•ãåº§) ---
    { name: "Arneb", ra: 5.545, dec: -17.822, mag: 2.58, ci: 0.21 },
    { name: "Nihal", ra: 5.470, dec: -20.760, mag: 2.81, ci: 0.46 },
    { name: "Epsilon Lep", ra: 5.087, dec: -22.404, mag: 3.19, ci: 1.43 },
    { name: "Mu Lep", ra: 5.216, dec: -16.208, mag: 3.29, ci: -0.12 },

    // --- ğŸ¦€ 2. CANCER (ã‹ã«åº§) ---
    { name: "Acubens", ra: 8.974, dec: 11.857, mag: 4.26, ci: 0.14 },
    { name: "Altarf", ra: 8.276, dec: 9.186, mag: 3.53, ci: 1.13 },
    { name: "Asellus Borealis", ra: 8.721, dec: 21.468, mag: 4.66, ci: 0.08 },
    { name: "Asellus Australis", ra: 8.740, dec: 18.156, mag: 3.94, ci: 1.00 },

    // --- âš–ï¸ 3. LIBRA (ã¦ã‚“ã³ã‚“åº§) ---
    { name: "Zubenelgenubi", ra: 14.846, dec: -16.041, mag: 2.75, ci: 0.09 },
    { name: "Zubeneschamali", ra: 15.283, dec: -9.380, mag: 2.61, ci: -0.12 },
    { name: "Brachium", ra: 15.068, dec: -25.280, mag: 3.25, ci: 1.58 },

    // --- ğŸ 4. CAPRICORNUS (ã‚„ãåº§) ---
    { name: "Algedi", ra: 20.293, dec: -12.540, mag: 3.58, ci: 0.96 },
    { name: "Dabih", ra: 20.352, dec: -14.781, mag: 3.05, ci: 0.82 },
    { name: "Deneb Algedi", ra: 21.785, dec: -16.128, mag: 2.85, ci: 0.18 },
    { name: "Nashira", ra: 21.673, dec: -16.662, mag: 3.69, ci: 0.07 },

    // --- ğŸº 5. AQUARIUS (ã¿ãšãŒã‚åº§) ---
    { name: "Sadalmelik", ra: 22.095, dec: -0.319, mag: 2.95, ci: 0.96 },
    { name: "Sadalsuud", ra: 21.526, dec: -5.571, mag: 2.90, ci: 0.96 },
    { name: "Skat", ra: 22.913, dec: -15.820, mag: 3.27, ci: 0.05 },
    { name: "Sadachbia", ra: 22.360, dec: -1.391, mag: 3.86, ci: 0.03 },
    { name: "Eta Aqr", ra: 22.588, dec: -0.119, mag: 4.04, ci: -0.05 },

    // --- ğŸŸ 6. PISCES (ã†ãŠåº§) ---
    { name: "Alrescha", ra: 2.034, dec: 2.763, mag: 3.82, ci: 0.11 },
    { name: "Alpherg", ra: 1.524, dec: 15.348, mag: 3.62, ci: 0.54 },
    { name: "Gamma Psc", ra: 23.283, dec: 3.280, mag: 3.70, ci: 0.94 },
    { name: "Omega Psc", ra: 23.990, dec: 6.863, mag: 4.03, ci: 0.49 },

    // --- ğŸ 7. ARIES (ãŠã²ã¤ã˜åº§) ---
    { name: "Hamal", ra: 2.118, dec: 23.462, mag: 2.01, ci: 1.15 },
    { name: "Sheratan", ra: 1.911, dec: 20.806, mag: 2.64, ci: 0.15 },
    { name: "Mesarthim", ra: 1.896, dec: 19.288, mag: 3.88, ci: 0.03 },

    // --- ğŸ¦â€â¬› 8. CORVUS (ã‹ã‚‰ã™åº§) ---
    { name: "Gienah Corvi", ra: 12.264, dec: -17.542, mag: 2.58, ci: -0.09 },
    { name: "Kraz", ra: 12.570, dec: -23.400, mag: 2.65, ci: 0.96 },
    { name: "Algorab", ra: 12.498, dec: -16.516, mag: 2.94, ci: 0.05 },
    { name: "Minkar", ra: 12.169, dec: -22.619, mag: 3.02, ci: 1.33 },

    // --- ğŸ’‡â€â™€ï¸ 9. COMA BERENICES (ã‹ã¿ã®ã‘åº§) ---
    { name: "Diadem", ra: 13.166, dec: 17.536, mag: 4.32, ci: 0.57 },
    { name: "Beta Com", ra: 13.198, dec: 27.884, mag: 4.23, ci: 0.57 },

    // --- ğŸŒŠ 10. ERIDANUS (ã‚¨ãƒªãƒ€ãƒŒã‚¹åº§) ---
    { name: "Achernar", ra: 1.628, dec: -57.241, mag: 0.45, ci: -0.16 },
    { name: "Cursa", ra: 5.131, dec: -5.086, mag: 2.78, ci: 0.15 },
    { name: "Zaurak", ra: 3.973, dec: -13.509, mag: 2.97, ci: 1.59 },
    { name: "Acamar", ra: 2.972, dec: -40.304, mag: 3.24, ci: 0.13 },

    // --- ğŸ‹ 11. CETUS (ãã˜ã‚‰åº§) ---
    { name: "Diphda", ra: 0.726, dec: -17.986, mag: 2.04, ci: 1.02 },
    { name: "Menkar", ra: 3.037, dec: 4.089, mag: 2.54, ci: 1.63 },
    { name: "Mira", ra: 2.323, dec: -2.977, mag: 2.00, ci: 1.53 },
    { name: "Baten Kaitos", ra: 1.733, dec: -10.334, mag: 3.74, ci: 1.29 },

    // --- âœ¨ OBJECTS (M31, M45, etc.) ---
    { name: "M31 Andromeda Galaxy", ra: 0.712, dec: 41.269, mag: 3.44, ci: 0.80 },
    { name: "M45 Pleiades", ra: 3.783, dec: 24.116, mag: 1.6, ci: -0.05 },
    { name: "M42 Orion Nebula", ra: 5.588, dec: -5.391, mag: 4.0, ci: 0.50 },
    { name: "Galactic Center", ra: 17.761, dec: -29.007, mag: 5.0, ci: 1.0 }
];
// --- 1. VECTOR & QUATERNION ENGINE (v18 YXZ + Gamma Fix) ---
const Math3D = {
    qMultiply: (a, b) => {
        const ax = a[0], ay = a[1], az = a[2], aw = a[3];
        const bx = b[0], by = b[1], bz = b[2], bw = b[3];
        return [
            ax * bw + aw * bx + ay * bz - az * by,
            ay * bw + aw * by + az * bx - ax * bz,
            az * bw + aw * bz + ax * by - ay * bx,
            aw * bw - ax * bx - ay * by - az * bz
        ];
    },
    qFromAxisAngle: (axis, angle) => {
        const halfAngle = angle / 2;
        const s = Math.sin(halfAngle);
        return [axis[0] * s, axis[1] * s, axis[2] * s, Math.cos(halfAngle)];
    },
    matFromQ: (q) => {
        const x = q[0], y = q[1], z = q[2], w = q[3];
        const x2 = x + x, y2 = y + y, z2 = z + z;
        const xx = x * x2, xy = x * y2, xz = x * z2;
        const yy = y * y2, yz = y * z2, zz = z * z2;
        const wx = w * x2, wy = w * y2, wz = w * z2;
        return [
            1 - (yy + zz), xy - wz, xz + wy, 0,
            xy + wz, 1 - (xx + zz), yz - wx, 0,
            xz - wy, yz + wx, 1 - (xx + yy), 0,
            0, 0, 0, 1
        ];
    },
    project: (vec, viewMat, width, height, fovDeg) => {
        const x = vec.x*viewMat[0] + vec.y*viewMat[4] + vec.z*viewMat[8];
        const y = vec.x*viewMat[1] + vec.y*viewMat[5] + vec.z*viewMat[9];
        const z = vec.x*viewMat[2] + vec.y*viewMat[6] + vec.z*viewMat[10];
        if (z >= -0.1) return null;
        const scale = (height / 2) / Math.tan(fovDeg * Math.PI / 360);
        return { x: x*(scale/-z)+width/2, y: -y*(scale/-z)+height/2, z: z };
    }
};

// --- 2. ASTRO PHYSICS ---
const Astro = {
    // Adjusted to accept time offset in hours
    getLST: (lon, date = new Date(), offsetHours = 0) => {
        const t = date.getTime() + offsetHours * 3600000;
        const d = (t/1000 - 946727935.816) / 86400;
        return ((18.697374558 + 24.06570982441908 * d) % 24 + lon/15 + 24) % 24;
    },
    getStarVector: (ra, dec, lat, lst) => {
        const haRad = (lst - ra) * 15 * Math.PI / 180;
        const decRad = dec * Math.PI / 180;
        const latRad = lat * Math.PI / 180;
        const sinAlt = Math.sin(decRad)*Math.sin(latRad) + Math.cos(decRad)*Math.cos(latRad)*Math.cos(haRad);
        const altRad = Math.asin(sinAlt);
        const cosAz = (Math.sin(decRad) - Math.sin(altRad)*Math.sin(latRad)) / (Math.cos(altRad)*Math.cos(latRad));
        let azRad = Math.acos(Math.min(1, Math.max(-1, cosAz)));
        if (Math.sin(haRad) > 0) azRad = 2*Math.PI - azRad;
        return { x: Math.sin(azRad)*Math.cos(altRad), y: Math.cos(azRad)*Math.cos(altRad), z: Math.sin(altRad) };
    }
};

// --- 3. UTILS ---
const Utils = {
    toast: (msg) => { const el = document.getElementById('toast'); el.innerText = msg; el.style.opacity = 1; setTimeout(() => el.style.opacity = 0, 3000); },
    bvToColor: (bv) => {
        if (bv < 0.0) return {r:180, g:200, b:255}; if (bv < 0.5) return {r:230, g:240, b:255}; 
        if (bv < 1.0) return {r:255, g:255, b:240}; if (bv < 1.5) return {r:255, g:220, b:180}; 
        return {r:255, g:200, b:180}; 
    },
    updateDOMText: () => {
        const dict = I18N[App.state.lang];
        document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.getAttribute('data-i18n');
            if (dict[key]) el.innerHTML = dict[key]; // Allow HTML for <br>
        });
        
        // Dynamic Loc Name
        const locKey = App.state.useGPS ? 'loc_gps' : 'loc_fixed';
        if (App.state.useGPS) document.getElementById('loc-name').innerText = `${dict[locKey]} (${App.state.lat.toFixed(1)},${App.state.lon.toFixed(1)})`;
        else document.getElementById('loc-name').innerText = dict[locKey];
    }
};

// --- 4. GUIDE SYSTEM (ACCORDION) ---
const Guide = {
    target: null,
    toggle: () => {
        const el = document.getElementById('guide-modal');
        const isHidden = el.classList.contains('hidden-force');
        if (isHidden) { Guide.buildList(); el.classList.remove('hidden-force'); } else { el.classList.add('hidden-force'); }
    },
    buildList: () => {
        const list = document.getElementById('guide-list');
        list.innerHTML = '';
        const dict = I18N[App.state.lang];
        
        // Define Categories
        const categories = [
            { id: RANK.FAMOUS, title: dict.cat_famous, icon: 'ğŸ¦', color: 'text-yellow-400' },
            { id: RANK.STAR_GAL, title: dict.cat_star_gal, icon: 'âœ¨', color: 'text-cyan-400' }, 
            { id: RANK.MEDIUM, title: dict.cat_medium, icon: 'ğŸ»', color: 'text-blue-300' },
            { id: RANK.MINOR, title: dict.cat_minor, icon: 'ğŸ¦', color: 'text-slate-400' }
        ];

        categories.forEach(cat => {
            // Filter constellations for this category
            const items = CONSTELLATION_DB.filter(c => c.rank === cat.id);
            if (items.length === 0) return;

            // Create Details/Summary Structure
            const details = document.createElement('details');
            details.className = "group mb-4";
            details.open = true; // Open by default

            const summary = document.createElement('summary');
            summary.className = "flex items-center gap-2 cursor-pointer bg-white/5 p-3 rounded-lg hover:bg-white/10 transition mb-2";
            summary.innerHTML = `
                <span class="${cat.color} text-xl">${cat.icon}</span>
                <span class="font-bold text-white text-sm flex-1">${cat.title}</span>
                <span class="text-xs text-slate-500 group-open:rotate-180 transition">â–¼</span>
            `;

            const content = document.createElement('div');
            content.className = "space-y-3 pl-2";

            items.forEach(c => {
                const card = document.createElement('div');
                card.className = `p-4 rounded-xl border border-white/10 bg-slate-800/80 backdrop-blur-sm`;
                
                // Get correct text based on lang
                const name = App.state.lang === 'en' ? c.en : c.name;
                const desc = App.state.lang === 'en' ? c.desc_en : c.desc;
                const myth = App.state.lang === 'en' ? c.myth_en : c.myth;
                
                card.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <div><h3 class="font-bold text-lg text-white">${name}</h3></div>
                        <span class="px-2 py-1 bg-green-500/20 text-green-400 text-[10px] font-bold rounded uppercase">âœ¨ INFO</span>
                    </div>
                    <p class="text-sm text-slate-300 mb-2 font-bold leading-relaxed">${desc}</p>
                    <div class="mt-2 text-xs text-yellow-100/80 p-2 bg-yellow-900/20 rounded border border-yellow-500/10 leading-relaxed font-normal">${myth}</div>
                    <button onclick="Guide.startNav('${c.id}')" class="w-full py-2 rounded-lg font-bold text-sm transition flex items-center justify-center gap-2 mt-2 bg-cyan-600 hover:bg-cyan-500 text-white shadow-lg">ğŸ”­ GOTO NAVI</button>
                `;
                content.appendChild(card);
            });

            details.appendChild(summary);
            details.appendChild(content);
            list.appendChild(details);
        });

        if (list.children.length === 0) list.innerHTML = `<p class="text-center text-slate-500 mt-10">${dict.cat_title} Check</p>`;
    },
    startNav: (id) => {
        const c = CONSTELLATION_DB.find(x => x.id === id); if (!c) return;
        Guide.target = { ...c };
        App.state.mode = 'guide';
        document.getElementById('guide-modal').classList.add('hidden-force');
        document.getElementById('nav-ui').classList.remove('hidden-force');
        const tName = App.state.lang==='en' ? c.en : c.name;
        document.getElementById('nav-target-name').innerText = tName;
        document.getElementById('btn-cancel-nav').classList.remove('hidden-force');
        Utils.toast(`${I18N[App.state.lang].nav_start} ${tName}`);
    },
    stopNav: () => {
        Guide.target = null; App.state.mode = 'normal';
        document.getElementById('nav-ui').classList.add('hidden-force');
        document.getElementById('btn-cancel-nav').classList.add('hidden-force');
        Utils.toast(I18N[App.state.lang].nav_end);
    }
};

// --- 5. GATEKEEPER ---
const Gate = {
    check: () => {
        const isMobile = ('ontouchstart' in window) && (window.innerWidth <= 1024);
        if (isMobile) {
            document.getElementById('app-container').classList.remove('hidden-force'); document.getElementById('start-modal').classList.remove('hidden-force');
        } else {
            document.getElementById('star-gate').classList.remove('hidden-force');
            new QRious({element:document.getElementById('qr-canvas'),value:window.location.href,size:180});
        }
    },
    startUnlock: () => {
        Utils.toast("PC DEBUG STARTED");
        document.getElementById('star-gate').classList.add('hidden-force');
        document.getElementById('app-container').classList.remove('hidden-force');
        document.getElementById('start-modal').classList.remove('hidden-force');
        App.state.isDev = true;
    }
};

// --- 6. APP CORE ---
const App = {
    canvas: null, ctx: null, width: 0, height: 0,
    state: {
        lat: 32.698, lon: 128.839, // Goto Islands
        viewMat: [1,0,0,0, 0,1,0,0, 0,0,1,0, 0,0,0,1],
        manualOffset: 0, reverseAlpha: false,
        skyRotation: 0, // REVERTED to 0
        mode: 'normal', viewMode: 0,
        // Updated default ranks to include STAR_GAL and MINOR
        ranks: { [RANK.FAMOUS]: true, [RANK.MEDIUM]: true, [RANK.MINOR]: true, [RANK.STAR_GAL]: true },
        isAR: false, useGPS: false, opacity: {bg:1, milky:0.5},
        showInfo: true, meteorEnabled: true, lang: 'ja',
        stars: [], milkyWay: [], meteors: [],
        isDev: false, fov: 60, orientation: { alpha: 0, beta: 90, gamma: 0 },
        azimuth: 0, timeOffset: 0, compassFiltered: 0,
        calibMode: false // Calibration Mode Flag
    },

    init: async () => {
        document.getElementById('start-modal').classList.add('hidden-force');
        
        // 1. Camera Init (AR OFF by default)
        document.getElementById('toggle-ar').checked = false;
        App.toggleAR(false);

        // 2. Show Swipe Hint
        setTimeout(() => { document.getElementById('swipe-hint').style.opacity = 1; }, 2000);
        setTimeout(() => { document.getElementById('swipe-hint').style.opacity = 0; }, 6000);

        App.canvas = document.getElementById('sky-canvas'); App.ctx = App.canvas.getContext('2d');
        
        // Safety Check for STARS_DATA
        if (typeof STARS_DATA !== 'undefined' && Array.isArray(STARS_DATA)) {
            STARS_DATA.forEach(s => App.state.stars.push(s));
        } else {
            console.error("STARS_DATA missing, using fallback.");
            Utils.toast("Error: Data Missing");
        }

        for(let i=0; i<800; i++) {
            App.state.stars.push({
                ra: Math.random()*24, dec: Math.random()*180-90, mag: Math.random()*3+3.5, ci: Math.random()*1.5, isProc: true
            });
        }
        
        // --- MILKY WAY GENERATOR (UPDATED: Gaussian Cloud Effect) ---
        const mwPoints = [
            {ra:0,dec:63, w:20}, {ra:3,dec:50, w:18}, {ra:6,dec:10, w:15}, 
            {ra:7.5,dec:-20, w:25}, {ra:12,dec:-60, w:30}, {ra:17,dec:-30, w:35}, 
            {ra:18,dec:-15, w:40}, {ra:20,dec:40, w:25}, {ra:23,dec:60, w:22}
        ];
        
        for(let i=0; i<mwPoints.length-1; i++) {
            const p1 = mwPoints[i]; const p2 = mwPoints[i+1];
            // Increase steps for massive stacking (Cloud density)
            const steps = 400; 
            
            for(let j=0; j<steps; j++) {
                const t = j/steps;
                const baseRA = p1.ra + (p2.ra - p1.ra)*t;
                const baseDec = p1.dec + (p2.dec - p1.dec)*t;
                const baseW = p1.w + (p2.w - p1.w)*t;
                
                // GAUSSIAN DISTRIBUTION (Approx)
                // Random - Random creates a bell-curve like distribution around 0
                const scatter = (Math.random() - Math.random()) * baseW * 1.5;
                
                const finalRA = baseRA + (Math.random() - 0.5) * 2;
                const finalDec = baseDec + scatter;
                
                // Color tweaks for "Mystical" look (Cyan/Magenta hints)
                const colorType = Math.random(); 
                let r, g, b;
                if (colorType > 0.8) { r=100; g=150; b=255; } // Blueish
                else if (colorType > 0.6) { r=180; g=100; b=220; } // Purpleish
                else { r=200; g=220; b=255; } // White-Cyan

                App.state.milkyWay.push({
                    ra: finalRA, 
                    dec: finalDec, 
                    // Massive Size for "Cloud" look (10% - 20% of screen approx when projected)
                    size: Math.random()*100 + 100, 
                    // Ultra-low alpha for stacking
                    alpha: Math.random()*0.015 + 0.005, 
                    r, g, b
                });
            }
        }

        if (typeof DeviceOrientationEvent !== 'undefined' && typeof DeviceOrientationEvent.requestPermission === 'function') {
            try { const res = await DeviceOrientationEvent.requestPermission(); if (res==='granted') window.addEventListener('deviceorientation', App.handleOri); } catch(e){}
        } else { window.addEventListener('deviceorientation', App.handleOri); }
        
        try { if(navigator.wakeLock) await navigator.wakeLock.request('screen'); } catch(e){}

        window.addEventListener('resize', App.resize);
        App.setupTouch(); App.resize(); App.loop();
    },

  handleOri: (e) => {
        // --- ğŸŒŠ Smoothing Factor (0.1 = Strong, 1.0 = None) ---
        // 0.15ã‚ãŸã‚ŠãŒæœ€é©ã§ã™
        const k = 0.15; 

        // ç”Ÿãƒ‡ãƒ¼ã‚¿ã®å–å¾—
        let alpha = e.alpha || 0;
        let beta = e.beta || 0;
        let gamma = e.gamma || 0;
        let compass = e.webkitCompassHeading || 0; // iOSç”¨

        // åˆå›åˆæœŸåŒ–
        if (!App.state.lastOri) {
            App.state.lastOri = { alpha, beta, gamma, compass };
        }

        const last = App.state.lastOri;

        // â˜…è§’åº¦ã®ã€Œæœ€çŸ­è·é›¢ã€ã‚’è¨ˆç®—ã—ã¦æ··ãœã‚‹é–¢æ•° (The Magic Function)
        // 359åº¦â†’1åº¦ã®ç§»å‹•ã‚’ã€Œ-358åº¦ã€ã§ã¯ãªãã€Œ+2åº¦ã€ã¨ã—ã¦è¨ˆç®—ã—ã¾ã™
        const lerpAngle = (current, previous, factor) => {
            let diff = current - previous;
            // å·®åˆ†ã‚’ -180 ã€œ 180 ã®ç¯„å›²ã«æ­£è¦åŒ–
            while (diff > 180) diff -= 360;
            while (diff < -180) diff += 360;
            return previous + diff * factor;
        };

        // å„å€¤ã‚’ã‚¹ãƒ ãƒ¼ã‚¸ãƒ³ã‚°
        alpha = lerpAngle(alpha, last.alpha, k);
        beta = lerpAngle(beta, last.beta, k);
        gamma = lerpAngle(gamma, last.gamma, k);
        // iOSã®æ–¹ä½ç£é‡ã‚‚ã‚¹ãƒ ãƒ¼ã‚¸ãƒ³ã‚°å¯¾è±¡ã«ã™ã‚‹
        compass = lerpAngle(compass, last.compass, k);

        // æ¬¡å›ç”¨ã«ä¿å­˜ï¼ˆè¨ˆç®—ã®ãŸã‚0-360ã®ç¯„å›²ã«åã‚ã‚‹ï¼‰
        App.state.lastOri = { 
            alpha: (alpha + 360) % 360, 
            beta, 
            gamma,
            compass: (compass + 360) % 360
        };
        
        // ã‚¢ãƒ—ãƒªã®çŠ¶æ…‹ã¸åæ˜ 
        App.state.orientation = { 
            alpha: App.state.lastOri.alpha, 
            beta, 
            gamma, 
            isIOS: !!e.webkitCompassHeading, 
            // iOSã®å ´åˆã¯ã€ã‚¹ãƒ ãƒ¼ã‚¸ãƒ³ã‚°æ¸ˆã¿ã®compasså€¤ã‚’ä½¿ã†
            webkitCompass: e.webkitCompassHeading ? App.state.lastOri.compass : null
        };
        
        // Calibration Logic (ä»¥ä¸‹ã¯ã‚¹ãƒ ãƒ¼ã‚¸ãƒ³ã‚°å€¤ã‚’ä½¿ã£ã¦è¡¨ç¤º)
        if (App.state.calibMode) {
            const ball = document.getElementById('level-ball');
            const maxTilt = 20; 
            let bx = Math.min(Math.max(gamma, -maxTilt), maxTilt);
            let by = Math.min(Math.max(beta, -maxTilt), maxTilt);
            
            const px = (bx / maxTilt) * 80;
            const py = (by / maxTilt) * 80;
            
            ball.style.transform = `translate(calc(-50% + ${px}px), calc(-50% + ${py}px))`;
            
            // UIè¡¨ç¤ºã‚‚ã‚¹ãƒ ãƒ¼ã‚¸ãƒ³ã‚°å€¤ã§æ›´æ–°
            let h = App.state.orientation.alpha;
            if(App.state.orientation.webkitCompass != null) h = App.state.orientation.webkitCompass;
            
            document.getElementById('calib-val').innerText = `${Math.round(h)}Â°`;
            
            if(Math.abs(bx)<3 && Math.abs(by)<3) {
                document.querySelector('.level-bubble').classList.add('level-ok');
            } else {
                document.querySelector('.level-bubble').classList.remove('level-ok');
            }
        }
    },
 

    // --- CALIBRATION FUNCTIONS ---
    startCalibration: () => {
        App.state.calibMode = true;
        document.getElementById('calib-modal').classList.add('active');
        // Stop AR while calibrating
        App.toggleAR(false);
    },
    cancelCalibration: () => {
        App.state.calibMode = false;
        document.getElementById('calib-modal').classList.remove('active');
    },
    // NEW: Rotate Offset Function
    rotateOffset: (deg) => {
        App.state.manualOffset += deg;
        Utils.toast(`Offset Rotated: ${deg > 0 ? '+' : ''}${deg}Â°`);
        // We do NOT close the modal, let them adjust more if needed.
    },
    // NEW: Reset Offset Function
    resetOffset: () => {
        App.state.manualOffset = 0;
        Utils.toast("Offset RESET to 0Â°");
    },
    // NEW: Toggle Sky Rotation
    toggleSkyRotation: (checked) => {
        App.state.skyRotation = checked ? 180 : 0;
        Utils.toast(`Sky Rotation: ${App.state.skyRotation}Â°`);
    },
    confirmCalibration: () => {
        // v25.1: Reset Logic based on "Top = North" rule
        const { alpha, webkitCompass } = App.state.orientation;
        let currentH = alpha;
        if(webkitCompass) currentH = webkitCompass;
        
        // If user is holding phone flat and top is North, 'currentH' SHOULD be 0 (or close).
        // If it says 90, we need offset -90.
        // Formula: Display = Sensor + Offset. Target Display = 0.
        // 0 = currentH + Offset => Offset = -currentH.
        
        App.state.manualOffset = -currentH;
        
        App.state.calibMode = false;
        document.getElementById('calib-modal').classList.remove('active');
        Utils.toast("Compass LOCKED to North ğŸ”’");
    },

    updateViewMatrix: () => {
        const { alpha, beta, gamma, isIOS, webkitCompass } = App.state.orientation;
        const safeAlpha = alpha !== null ? alpha : 0;
        const deg2rad = Math.PI / 180;
        let screenOrient = 0;
        
        if (window.screen && window.screen.orientation) screenOrient = window.screen.orientation.angle;
        else if (window.orientation) screenOrient = window.orientation;

        // 2. Normalize Alpha (Base Heading)
        let a = safeAlpha;
        if (isIOS && webkitCompass != null) a = -webkitCompass;
        else { 
            // ğŸ›‘ v25.1 FIX: Removed the "-270" magic number for Android.
            // Trusts raw 'safeAlpha' (0=North on modern Chrome)
            a = safeAlpha; 
        }
        
        // 3. Magnetic Declination Fix
        a -= 7; 

        // 4. Apply Manual Offset & Sky Rotation for STAR rendering
        let starAlpha = a + App.state.manualOffset + App.state.skyRotation;
        if (App.state.reverseAlpha) starAlpha = -starAlpha;

        // --- Calculate View Matrix for Stars ---
        const rAlpha = starAlpha * deg2rad;
        const rBeta = beta * deg2rad;
        const rGamma = gamma * deg2rad;
        const rOrient = screenOrient * deg2rad;

        // YXZ Order
        const qY = Math3D.qFromAxisAngle([0, 1, 0], rAlpha);     
        const qX = Math3D.qFromAxisAngle([1, 0, 0], rBeta);      
        const qZ = Math3D.qFromAxisAngle([0, 0, 1], -rGamma);    

        let qDev = Math3D.qMultiply(qY, qX);
        qDev = Math3D.qMultiply(qDev, qZ);

        const qCamFix = Math3D.qFromAxisAngle([1, 0, 0], -90 * deg2rad);
        const qScreen = Math3D.qFromAxisAngle([0, 0, 1], -rOrient);

        let qFinal = Math3D.qMultiply(qDev, qCamFix);
        qFinal = Math3D.qMultiply(qFinal, qScreen);

        App.state.viewMat = Math3D.matFromQ(qFinal);

        // Debug Display
        const starFwdX = -App.state.viewMat[8], starFwdY = -App.state.viewMat[9], starFwdZ = -App.state.viewMat[10];
        const alt = Math.asin(starFwdZ) * 180/Math.PI; 
        let starAz = Math.atan2(starFwdX, starFwdY) * 180/Math.PI; if(starAz<0) starAz+=360;

        document.getElementById('debug-az').innerText = Math.round(starAz);
        document.getElementById('debug-alt').innerText = Math.round(alt);
    },

    loop: () => {
        App.updateViewMatrix();
        const {ctx, width, height, state} = App;
        ctx.clearRect(0,0,width,height);
        
        const isSolar = state.viewMode === 2;
        if (state.opacity.bg > 0) {
            const alpha = state.isAR ? state.opacity.bg : 1;
            const grad = ctx.createLinearGradient(0,0,0,height);
            if (isSolar) { grad.addColorStop(0, `rgba(135,206,235,${alpha})`); grad.addColorStop(1, `rgba(224,247,250,${alpha})`); }
            else { grad.addColorStop(0, `rgba(2,6,23,${alpha})`); grad.addColorStop(1, `rgba(15,23,42,${alpha})`); }
            ctx.fillStyle = grad; ctx.fillRect(0,0,width,height);
        }

        const lst = Astro.getLST(state.lon, new Date(), state.timeOffset);
        
        if (!isSolar && state.opacity.milky > 0) {
            ctx.globalCompositeOperation = 'lighter'; 
            state.milkyWay.forEach(p => {
                const vec = Astro.getStarVector(p.ra, p.dec, state.lat, lst);
                const pos = Math3D.project(vec, state.viewMat, width, height, state.fov);
                if (pos) {
                    // UPDATED: Dynamic scaling for "Cloud" effect
                    const size = p.size * (width/1500);
                    const grad = ctx.createRadialGradient(pos.x, pos.y, 0, pos.x, pos.y, size);
                    const a = p.alpha * state.opacity.milky;
                    
                    grad.addColorStop(0, `rgba(${p.r},${p.g},${p.b},${a})`);
                    grad.addColorStop(1, `rgba(${p.r},${p.g},${p.b},0)`);
                    
                    ctx.fillStyle = grad;
                    ctx.beginPath(); ctx.arc(pos.x, pos.y, size, 0, Math.PI*2); ctx.fill();
                }
            });
            ctx.globalCompositeOperation = 'source-over';
        }

        const starPos = {};
        state.stars.forEach(s => {
            const vec = Astro.getStarVector(s.ra, s.dec, state.lat, lst);
            const p = Math3D.project(vec, state.viewMat, width, height, state.fov);
            if (p) {
                if(s.name) starPos[s.name] = p;
                let col = s.isProc ? {r:255,g:255,b:255} : Utils.bvToColor(s.ci||0.5);
                let size = s.isProc ? Math.random()*1 : Math.max(0.8, (3.5-s.mag)*1.2);
                let alpha = (s.mag<2?1.0:0.6);
                if (isSolar) { size*=0.8; alpha=0.7; col={r:0,g:0,b:0}; }
                ctx.fillStyle = `rgba(${col.r},${col.g},${col.b},${alpha})`;
                ctx.beginPath(); ctx.arc(p.x, p.y, size, 0, Math.PI*2); ctx.fill();
            }
        });

    
        ctx.strokeStyle = isSolar ? "rgba(0,0,0,0.3)" : "rgba(34,211,238,0.6)"; ctx.lineWidth = 2; // â˜…ç·šã‚’å¤ªãæ¿ƒãå¤‰æ›´
        ctx.beginPath();
        const visibleConsts = [];
        CONSTELLATION_DB.forEach(c => {
            if (!state.ranks[c.rank]) return;
            const isTarget = (state.mode === 'guide' && Guide.target && Guide.target.id === c.id);
            if(isTarget) { ctx.stroke(); ctx.beginPath(); ctx.strokeStyle = "#4ade80"; ctx.lineWidth = 3; }
            
            // â˜…ã“ã“ã‹ã‚‰ä¿®æ­£ï¼šç·šãŒã‚ã‚‹ã‹ãªã„ã‹ã§åˆ†å²
            if (c.lines && c.lines.length > 0) {
                // ç·šãŒã‚ã‚‹å ´åˆï¼ˆé€šå¸¸ã®æ˜Ÿåº§ï¼‰
                let cx=0, cy=0, n=0;
                for(let i=0; i<c.lines.length; i+=2) {
                    const p1 = starPos[c.lines[i]]; const p2 = starPos[c.lines[i+1]];
                    if(p1 && p2) { 
                        ctx.moveTo(p1.x, p1.y); ctx.lineTo(p2.x, p2.y); 
                        cx+=(p1.x+p2.x)/2; cy+=(p1.y+p2.y)/2; n++;
                    }
                }
                if(n>0) {
                    cx/=n; cy/=n;
                    const d = Math.hypot(cx-width/2, cy-height/2);
                    if(c.rank === 1 || d < 200) {
                        visibleConsts.push({c, x:cx, y:cy, dist:d});
                        ctx.fillStyle = isTarget ? "#4ade80" : (isSolar ? "#000" : "#fff");
                        ctx.font = isTarget ? "bold 14px 'Zen Maru Gothic'" : "10px 'Zen Maru Gothic'"; // ãƒãƒ–ãƒ«æ–‡å­—ã‚µã‚¤ã‚ºã¯CSSã§åˆ¶å¾¡
                        const tName = state.lang==='en' ? c.en : c.name;
                        ctx.fillText(tName, cx, cy);
                    }
                }
            } else {
                // â˜…ç·šãŒãªã„å ´åˆï¼ˆRank 4: æ˜Ÿãƒ»éŠ€æ²³ãªã©ï¼‰
                // ä¸­å¿ƒåº§æ¨™ã ã‘è¨ˆç®—ã—ã¦ç‚¹ã‚’æ‰“ã¤
                const vec = Astro.getStarVector(c.centerRA, c.centerDec, state.lat, lst);
                const p = Math3D.project(vec, state.viewMat, width, height, state.fov);
                if(p) {
                    const d = Math.hypot(p.x-width/2, p.y-height/2);
                    if(d < 200 || isTarget) { // ç”»é¢å†…ãªã‚‰è¡¨ç¤º
                        visibleConsts.push({c, x:p.x, y:p.y, dist:d});
                        ctx.fillStyle = isTarget ? "#4ade80" : "#fbbf24"; // é»„è‰²ã§å¼·èª¿
                        ctx.font = isTarget ? "bold 14px 'Zen Maru Gothic'" : "10px 'Zen Maru Gothic'";
                        const tName = state.lang==='en' ? c.en : c.name;
                        ctx.fillText(tName, p.x, p.y - 10);
                        ctx.beginPath(); ctx.arc(p.x, p.y, 4, 0, Math.PI*2); ctx.fill(); // ãƒãƒ¼ã‚«ãƒ¼ã‚’æç”»
                    }
                }
            }
            
            // æç”»è¨­å®šã‚’å…ƒã«æˆ»ã™
            if(isTarget) { ctx.stroke(); ctx.beginPath(); ctx.strokeStyle = isSolar?"rgba(0,0,0,0.3)":"rgba(34,211,238,0.6)"; ctx.lineWidth = 2; }
        });
        ctx.stroke();


        // 5. Smart Bubble Logic
        const bubble = document.getElementById('smart-bubble');
        if (state.showInfo && visibleConsts.length > 0) {
            visibleConsts.sort((a,b) => a.dist - b.dist);
            const target = visibleConsts[0];
            if (target.dist < 150) {
                document.getElementById('bubble-title').innerText = state.lang==='en' ? target.c.en : target.c.name;
                const dict = I18N[state.lang];
                
                let tag = dict.constellation;
                if(target.c.rank === 1) tag = dict.famous_const;
                if(target.c.rank === 4) tag = dict.star_gal; // New Tag
                
                document.getElementById('bubble-tag').innerText = tag;
                document.getElementById('bubble-desc').innerText = state.lang==='en' ? target.c.desc_en : target.c.desc;
                
                const bx = Math.min(Math.max(target.x, 140), width-140);
                const by = Math.max(target.y - 140, 20);
                bubble.style.left = (bx - 128) + 'px'; 
                bubble.style.top = by + 'px';
                bubble.style.opacity = 1;
            } else {
                bubble.style.opacity = 0;
            }
        } else {
            bubble.style.opacity = 0;
        }

        if (state.meteorEnabled && !isSolar) {
            if (Math.random() < 0.01) state.meteors.push({x: Math.random()*width, y: Math.random()*height*0.5, vx: (Math.random()-0.5)*20, vy: Math.random()*15+5, life: 1});
            ctx.strokeStyle = "rgba(255,255,255,0.8)"; ctx.lineWidth = 2;
            state.meteors = state.meteors.filter(m => {
                ctx.globalAlpha = m.life; ctx.beginPath(); ctx.moveTo(m.x, m.y); ctx.lineTo(m.x-m.vx*4, m.y-m.vy*4); ctx.stroke();
                m.x+=m.vx; m.y+=m.vy; m.life-=0.04; return m.life>0;
            });
            ctx.globalAlpha = 1;
        }

        if (state.mode === 'guide' && Guide.target) {
            const t = Guide.target;
            const vec = Astro.getStarVector(t.centerRA, t.centerDec, state.lat, lst);
            const p = Math3D.project(vec, state.viewMat, width, height, state.fov);
            const lockEl = document.getElementById('lock-on');
            if (p && p.x>50 && p.x<width-50 && p.y>50 && p.y<height-50) {
                lockEl.style.opacity = 1; lockEl.style.left = p.x + 'px'; lockEl.style.top = p.y + 'px';
                document.getElementById('nav-msg').style.transform = `translate(0,0)`;
            } else {
                lockEl.style.opacity = 0;
            }
        }
        requestAnimationFrame(App.loop);
    },

    resize: () => { App.width = window.innerWidth; App.height = window.innerHeight; App.canvas.width = App.width; App.canvas.height = App.height; App.state.fov = (App.width>App.height)?45:60; },
    toggleLocation: () => { 
        if(!App.state.useGPS) {
            navigator.geolocation.getCurrentPosition(pos => {
                App.state.lat = pos.coords.latitude; App.state.lon = pos.coords.longitude;
                App.state.useGPS = true;
                Utils.updateDOMText(); // Update Text
                Utils.toast(I18N[App.state.lang].loc_gps + " OK");
            }, () => Utils.toast("GPS Error"));
        } else {
            App.state.lat = 32.698; App.state.lon = 128.839; App.state.useGPS = false;
            Utils.updateDOMText(); // Update Text
            Utils.toast(I18N[App.state.lang].loc_fixed);
        }
    },
    toggleSettings: () => document.getElementById('settings-modal').classList.toggle('hidden-force'),
    
    toggleTimeSlider: () => {
        const slider = document.getElementById('time-slider-container');
        slider.classList.toggle('active');
        Utils.toast(I18N[App.state.lang].time_travel);
    },
    setTimeOffset: (val) => {
        App.state.timeOffset = parseFloat(val);
        const sign = App.state.timeOffset >= 0 ? '+' : '';
        document.getElementById('time-display').innerText = `TIME TRAVEL: ${sign}${App.state.timeOffset}h`;
    },
    resetTime: (val) => {
        if(val == 0) Utils.toast(I18N[App.state.lang].time_reset);
    },

    toggleAR: (v) => { 
        App.state.isAR = v;
        const cam = document.getElementById('camera-feed');
        if (v) {
            if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' } })
                    .then(stream => { cam.srcObject = stream; cam.style.opacity = 1; })
                    .catch(e => { console.log("Cam Error", e); Utils.toast("Cam Error"); });
            }
            App.setOpacity('bg', 0.0); 
            document.querySelector('input[oninput*="bg"]').value = 0.0;
        } else {
            if (cam.srcObject) {
                cam.srcObject.getTracks().forEach(t => t.stop());
                cam.srcObject = null;
            }
            cam.style.opacity = 0;
            App.setOpacity('bg', 1);
            document.querySelector('input[oninput*="bg"]').value = 1;
        }
    },
    toggleViewMode: () => {
        App.state.viewMode = (App.state.viewMode + 1) % 3;
        const body = document.body; const btn = document.getElementById('btn-mode');
        body.classList.remove('mode-red', 'mode-solar');
        if(App.state.viewMode === 1) { body.classList.add('mode-red'); btn.innerText = "ğŸ”´"; }
        else if(App.state.viewMode === 2) { body.classList.add('mode-solar'); btn.innerText = "â˜€ï¸"; }
        else { btn.innerText = "ğŸŒ™"; }
    },
    setOpacity: (k,v) => { App.state.opacity[k] = parseFloat(v); if(k==='bg')document.getElementById('val-bg').innerText=Math.round(v*100)+"%"; if(k==='milky')document.getElementById('val-milky').innerText=Math.round(v*100)+"%"; },
    setRank: (r,v) => { App.state.ranks[r] = v; Guide.buildList(); }, // å˜ç‹¬æ›´æ–°ï¼†ãƒªã‚¹ãƒˆå†æ§‹ç¯‰
    setFlag: (k,v) => App.state[k] = v,
    setLang: (l) => { 
        App.state.lang = l; 
        Guide.buildList(); 
        Utils.updateDOMText(); 
    },
    takeScreenshot: () => { const l=document.createElement('a'); l.download='stargazer-v25.1.png'; l.href=App.canvas.toDataURL(); l.click(); Utils.toast("ä¿å­˜ã—ã¾ã—ãŸ ğŸ“¸"); },
    setupTouch: () => {
        let lx = 0;
        window.addEventListener('touchstart', e => lx = e.touches[0].clientX);
        window.addEventListener('touchmove', e => {
            const dx = e.touches[0].clientX - lx; App.state.manualOffset += dx * 0.2; lx = e.touches[0].clientX;
        });
    }
};

window.onload = () => Gate.check();
</script>
<script>
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker.register('./sw.js')
                .then(reg => console.log('StarGazer: SW Registered!', reg))
                .catch(err => console.log('StarGazer: SW Failed', err));
        });
    }
</script>
</body>
</html>



